(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["wbm-tag-manager-ecomm"],{

/***/ "Bys/":
/*!***************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/main.js ***!
  \***************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var src_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/service/http-client.service */ \"k8s9\");\n/* harmony import */ var src_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/plugin-system/plugin.manager */ \"Cxgn\");\n/* harmony import */ var _plugin_productClickTracking_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin/productClickTracking.plugin */ \"VIO2\");\n/* harmony import */ var src_plugin_cookie_cookie_configuration_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/plugin/cookie/cookie-configuration.plugin */ \"t8WJ\");\n/* eslint-disable import/no-unresolved */\n\n\n\nsrc_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register('ProductClickTracking', _plugin_productClickTracking_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"], '.product-box');\nvar __superFunc = src_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype._registerOnLoaded;\n\nsrc_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype._registerOnLoaded = function (request, callback) {\n  __superFunc.call(this, request, callback);\n\n  request.addEventListener('loadend', function () {\n    var gtmPush = request.getResponseHeader('gtm-push');\n\n    if (gtmPush === 'null') {\n      gtmPush = null;\n    }\n\n    if (gtmPush && window.dataLayer) {\n      var pushes = JSON.parse(gtmPush);\n\n      for (var key in pushes) {\n        window.dataLayer.push(JSON.parse(pushes[key]));\n      }\n\n      if (window.gaRegisterClickTracking) {\n        window.gaRegisterClickTracking();\n      }\n    }\n  });\n};\n\nfunction eventCallback(updatedCookies) {\n  if (typeof updatedCookies.detail['wbm-tagmanager-enabled'] !== 'undefined' && updatedCookies.detail['wbm-tagmanager-enabled'] && !window.wbmScriptIsSet) {\n    var newScript = document.createElement('script');\n    var inlineScript = document.createTextNode(\"(\".concat(window.googleTag, \")(window,document,'script','dataLayer', '\").concat(window.wbmGoogleTagmanagerId, \"');\"));\n    newScript.appendChild(inlineScript);\n    var script = document.getElementById('wbmTagManger');\n    script.parentNode.insertBefore(newScript, script.nextSibling);\n    window.wbmScriptIsSet = true;\n    window.googleTag = null;\n  }\n}\n\n\ndocument.$emitter.subscribe(src_plugin_cookie_cookie_configuration_plugin__WEBPACK_IMPORTED_MODULE_3__[\"COOKIE_CONFIGURATION_UPDATE\"], eventCallback);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnlzLy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9tYWluLmpzP2MwNTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLXVucmVzb2x2ZWQgKi9cbmltcG9ydCBIdHRwQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL2h0dHAtY2xpZW50LnNlcnZpY2UnO1xuaW1wb3J0IFBsdWdpbk1hbmFnZXIgZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLm1hbmFnZXInO1xuaW1wb3J0IFByb2R1Y3RDbGlja1RyYWNraW5nIGZyb20gJy4vcGx1Z2luL3Byb2R1Y3RDbGlja1RyYWNraW5nLnBsdWdpbidcblxuUGx1Z2luTWFuYWdlci5yZWdpc3RlcignUHJvZHVjdENsaWNrVHJhY2tpbmcnLCBQcm9kdWN0Q2xpY2tUcmFja2luZywgJy5wcm9kdWN0LWJveCcpO1xuXG5jb25zdCBfX3N1cGVyRnVuYyA9IEh0dHBDbGllbnQucHJvdG90eXBlLl9yZWdpc3Rlck9uTG9hZGVkO1xuSHR0cENsaWVudC5wcm90b3R5cGUuX3JlZ2lzdGVyT25Mb2FkZWQgPSBmdW5jdGlvbiAocmVxdWVzdCwgY2FsbGJhY2spIHtcbiAgICBfX3N1cGVyRnVuYy5jYWxsKHRoaXMsIHJlcXVlc3QsIGNhbGxiYWNrKTtcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCAoKSA9PiB7XG4gICAgICAgIGxldCBndG1QdXNoID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcignZ3RtLXB1c2gnKTtcbiAgICAgICAgaWYgKGd0bVB1c2ggPT09ICdudWxsJyl7XG4gICAgICAgICAgICBndG1QdXNoID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChndG1QdXNoICYmIHdpbmRvdy5kYXRhTGF5ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHB1c2hlcyA9IEpTT04ucGFyc2UoZ3RtUHVzaCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwdXNoZXMpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goSlNPTi5wYXJzZShwdXNoZXNba2V5XSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2luZG93LmdhUmVnaXN0ZXJDbGlja1RyYWNraW5nKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmdhUmVnaXN0ZXJDbGlja1RyYWNraW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGV2ZW50Q2FsbGJhY2sodXBkYXRlZENvb2tpZXMpIHtcbiAgICBpZiAodHlwZW9mIHVwZGF0ZWRDb29raWVzLmRldGFpbFsnd2JtLXRhZ21hbmFnZXItZW5hYmxlZCddICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAmJiB1cGRhdGVkQ29va2llcy5kZXRhaWxbJ3dibS10YWdtYW5hZ2VyLWVuYWJsZWQnXVxuICAgICAgICAmJiAhd2luZG93LndibVNjcmlwdElzU2V0XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBjb25zdCBpbmxpbmVTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICAgIGAoJHt3aW5kb3cuZ29vZ2xlVGFnfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCdkYXRhTGF5ZXInLCAnJHt3aW5kb3cud2JtR29vZ2xlVGFnbWFuYWdlcklkfScpO2BcbiAgICAgICAgKTtcbiAgICAgICAgbmV3U2NyaXB0LmFwcGVuZENoaWxkKGlubGluZVNjcmlwdCk7XG5cbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dibVRhZ01hbmdlcicpO1xuICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3U2NyaXB0LCBzY3JpcHQubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIHdpbmRvdy53Ym1TY3JpcHRJc1NldCA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5nb29nbGVUYWcgPSBudWxsO1xuICAgIH1cbn1cblxuaW1wb3J0IHsgQ09PS0lFX0NPTkZJR1VSQVRJT05fVVBEQVRFIH0gZnJvbSAnc3JjL3BsdWdpbi9jb29raWUvY29va2llLWNvbmZpZ3VyYXRpb24ucGx1Z2luJztcbmRvY3VtZW50LiRlbWl0dGVyLnN1YnNjcmliZShDT09LSUVfQ09ORklHVVJBVElPTl9VUERBVEUsIGV2ZW50Q2FsbGJhY2spO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///Bys/\n");

/***/ }),

/***/ "VIO2":
/*!*********************************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/plugin/productClickTracking.plugin.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductClickTracking; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar ProductClickTracking =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(ProductClickTracking, _Plugin);\n\n  function ProductClickTracking() {\n    _classCallCheck(this, ProductClickTracking);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProductClickTracking).apply(this, arguments));\n  }\n\n  _createClass(ProductClickTracking, [{\n    key: \"init\",\n    value: function init() {\n      this.registerEvents();\n    }\n  }, {\n    key: \"registerEvents\",\n    value: function registerEvents() {\n      var self = this;\n      this.el.addEventListener('click', function (event) {\n        self.onProductClicked(event);\n      });\n    }\n  }, {\n    key: \"setImpressions\",\n    value: function setImpressions() {\n      var self = this;\n      var dataLayer = window.dataLayer;\n\n      if (typeof onEventDataLayer !== 'undefined') {\n        dataLayer = onEventDataLayer;\n      }\n\n      if (dataLayer) {\n        for (var i = 0; i < window.dataLayer.length; i++) {\n          var layer = window.dataLayer[i];\n\n          if (layer.ecommerce && layer.ecommerce.impressions) {\n            self.impressions = layer.ecommerce.impressions;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onProductClicked\",\n    value: function onProductClicked(event) {\n      var self = this;\n      self.setImpressions();\n      var inputField = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(self.el, '[itemprop=\"mpn\"]'),\n          productNo = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttribute(inputField, 'content'),\n          product = self.impressions.find(function (value, index) {\n        return value.id === productNo;\n      });\n\n      if (product === undefined) {\n        return;\n      }\n\n      console.log(event.target);\n      event.preventDefault();\n\n      if (event.target.nodeName === 'A' || event.target.nodeName === 'BUTTON') {\n        window.dataLayer.push({\n          'event': 'productClick',\n          'ecommerce': {\n            'click': {\n              'actionField': {\n                'list': product.list\n              },\n              'products': [product]\n            }\n          }\n        });\n\n        if (src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasAttribute(event.target, 'href')) {\n          document.location = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttribute(event.target, 'href');\n        }\n      }\n    }\n  }]);\n\n  return ProductClickTracking;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVklPMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9wbHVnaW4vcHJvZHVjdENsaWNrVHJhY2tpbmcucGx1Z2luLmpzPzBiNDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsdWdpbiBmcm9tICdzcmMvcGx1Z2luLXN5c3RlbS9wbHVnaW4uY2xhc3MnO1xuaW1wb3J0IERvbUFjY2VzcyBmcm9tICdzcmMvaGVscGVyL2RvbS1hY2Nlc3MuaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdENsaWNrVHJhY2tpbmcgZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYub25Qcm9kdWN0Q2xpY2tlZChldmVudClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0SW1wcmVzc2lvbnMoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllcjtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkV2ZW50RGF0YUxheWVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZGF0YUxheWVyID0gb25FdmVudERhdGFMYXllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhTGF5ZXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2luZG93LmRhdGFMYXllci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IHdpbmRvdy5kYXRhTGF5ZXJbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZWNvbW1lcmNlICYmIGxheWVyLmVjb21tZXJjZS5pbXByZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmltcHJlc3Npb25zID0gbGF5ZXIuZWNvbW1lcmNlLmltcHJlc3Npb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUHJvZHVjdENsaWNrZWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLnNldEltcHJlc3Npb25zKCk7XG5cbiAgICAgICAgdmFyIGlucHV0RmllbGQgPSBEb21BY2Nlc3MucXVlcnlTZWxlY3RvcihzZWxmLmVsLCAnW2l0ZW1wcm9wPVwibXBuXCJdJyksXG4gICAgICAgICAgICBwcm9kdWN0Tm8gPSBEb21BY2Nlc3MuZ2V0QXR0cmlidXRlKGlucHV0RmllbGQsICdjb250ZW50JyksXG4gICAgICAgICAgICBwcm9kdWN0ID0gc2VsZi5pbXByZXNzaW9ucy5maW5kKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuaWQgPT09IHByb2R1Y3RObztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwcm9kdWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnQScgfHwgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnQlVUVE9OJykge1xuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcbiAgICAgICAgICAgICAgICAnZXZlbnQnOiAncHJvZHVjdENsaWNrJyxcbiAgICAgICAgICAgICAgICAnZWNvbW1lcmNlJzoge1xuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWN0aW9uRmllbGQnOiB7J2xpc3QnOiBwcm9kdWN0Lmxpc3R9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3RzJzogW3Byb2R1Y3RdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChEb21BY2Nlc3MuaGFzQXR0cmlidXRlKGV2ZW50LnRhcmdldCwgJ2hyZWYnKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gRG9tQWNjZXNzLmdldEF0dHJpYnV0ZShldmVudC50YXJnZXQsICdocmVmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFEQTtBQUZBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBL0RBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///VIO2\n");

/***/ }),

/***/ "bK22":
/*!**********************************************!*\
  !*** ./plugin/offcanvas/offcanvas.plugin.js ***!
  \**********************************************/
/*! exports provided: OffCanvasInstance, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OffCanvasInstance\", function() { return OffCanvasInstance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OffCanvas; });\n/* harmony import */ var src_helper_device_detection_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/helper/device-detection.helper */ \"41MI\");\n/* harmony import */ var src_helper_emitter_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/emitter.helper */ \"+F6M\");\n/* harmony import */ var src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utility/backdrop/backdrop.util */ \"KeF5\");\n/* harmony import */ var src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/helper/iterator.helper */ \"ERap\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar OFF_CANVAS_CLASS = 'offcanvas';\nvar OFF_CANVAS_OPEN_CLASS = 'is-open';\nvar OFF_CANVAS_FULLWIDTH_CLASS = 'is-fullwidth';\nvar OFF_CANVAS_CLOSE_TRIGGER_CLASS = 'js-offcanvas-close';\nvar _REMOVE_OFF_CANVAS_DELAY = 350;\n\nvar OffCanvasSingleton =\n/*#__PURE__*/\nfunction () {\n  function OffCanvasSingleton() {\n    _classCallCheck(this, OffCanvasSingleton);\n\n    this.$emitter = new src_helper_emitter_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  /**\n   * Open the offcanvas and its backdrop\n   * @param {string} content\n   * @param {function|null} callback\n   * @param {'left'|'right'|'bottom'} position\n   * @param {boolean} closable\n   * @param {number} delay\n   * @param {boolean} fullwidth\n   * @param {array|string} cssClass\n   */\n\n\n  _createClass(OffCanvasSingleton, [{\n    key: \"open\",\n    value: function open(content, callback, position, closable, delay, fullwidth, cssClass) {\n      // avoid multiple backdrops\n      this._removeExistingOffCanvas();\n\n      var offCanvas = this._createOffCanvas(position, fullwidth, cssClass);\n\n      this.setContent(content, closable, delay);\n\n      this._openOffcanvas(offCanvas, callback);\n    }\n    /**\n     * Method to change the content of the already visible OffCanvas\n     * @param {string} content\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(content, closable, delay) {\n      var offCanvas = this.getOffCanvas();\n\n      if (!offCanvas[0]) {\n        return;\n      }\n\n      offCanvas[0].innerHTML = content; //register events again\n\n      this._registerEvents(closable, delay);\n    }\n    /**\n     * adds an additional class to the offcanvas\n     *\n     * @param {string} className\n     */\n\n  }, {\n    key: \"setAdditionalClassName\",\n    value: function setAdditionalClassName(className) {\n      var offCanvas = this.getOffCanvas();\n      offCanvas[0].classList.add(className);\n    }\n    /**\n     * Determine list of existing offcanvas\n     * @returns {NodeListOf<Element>}\n     * @private\n     */\n\n  }, {\n    key: \"getOffCanvas\",\n    value: function getOffCanvas() {\n      return document.querySelectorAll(\".\".concat(OFF_CANVAS_CLASS));\n    }\n    /**\n     * Close the offcanvas and its backdrop when the browser goes back in history\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(delay) {\n      var _this = this;\n\n      // remove open class to make any css animation effects possible\n      var OffCanvasElements = this.getOffCanvas();\n      src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(OffCanvasElements, function (backdrop) {\n        return backdrop.classList.remove(OFF_CANVAS_OPEN_CLASS);\n      }); // wait before removing backdrop to let css animation effects take place\n\n      setTimeout(this._removeExistingOffCanvas.bind(this), delay);\n      src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(delay);\n      setTimeout(function () {\n        _this.$emitter.publish('onCloseOffcanvas', {\n          offCanvasContent: OffCanvasElements\n        });\n      }, delay);\n    }\n    /**\n     * Callback for close button, goes back in browser history to trigger close\n     * @returns {void}\n     */\n\n  }, {\n    key: \"goBackInHistory\",\n    value: function goBackInHistory() {\n      window.history.back();\n    }\n    /**\n     * Returns whether any OffCanvas exists or not\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      return this.getOffCanvas().length > 0;\n    }\n    /**\n     * Opens the offcanvas and its backdrop\n     *\n     * @param {HTMLElement} offCanvas\n     * @param {function} callback\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_openOffcanvas\",\n    value: function _openOffcanvas(offCanvas, callback) {\n      // the timeout allows to apply the animation effects\n      setTimeout(function () {\n        src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(function () {\n          offCanvas.classList.add(OFF_CANVAS_OPEN_CLASS);\n          window.history.pushState('offcanvas-open', ''); // if a callback function is being injected execute it after opening the OffCanvas\n\n          if (typeof callback === 'function') {\n            callback();\n          }\n        });\n      }, 75);\n    }\n    /**\n     * Register events\n     * @param {boolean} closable\n     * @param {number} delay\n     * @private\n     */\n\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents(closable, delay) {\n      var _this2 = this;\n\n      var event = src_helper_device_detection_helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isTouchDevice() ? 'touchstart' : 'click';\n\n      if (closable) {\n        var onBackdropClick = function onBackdropClick() {\n          _this2.close(delay); // remove the event listener immediately to avoid multiple listeners\n\n\n          document.removeEventListener(src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"BACKDROP_EVENT\"].ON_CLICK, onBackdropClick);\n        };\n\n        document.addEventListener(src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"BACKDROP_EVENT\"].ON_CLICK, onBackdropClick);\n      }\n\n      window.addEventListener('popstate', this.close.bind(this, delay), {\n        once: true\n      });\n      var closeTriggers = document.querySelectorAll(\".\".concat(OFF_CANVAS_CLOSE_TRIGGER_CLASS));\n      src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(closeTriggers, function (trigger) {\n        return trigger.addEventListener(event, _this2.goBackInHistory.bind(_this2));\n      });\n    }\n    /**\n     * Remove all existing offcanvas from DOM\n     * @private\n     */\n\n  }, {\n    key: \"_removeExistingOffCanvas\",\n    value: function _removeExistingOffCanvas() {\n      var offCanvasElements = this.getOffCanvas();\n      return src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(offCanvasElements, function (offCanvas) {\n        return offCanvas.remove();\n      });\n    }\n    /**\n     * Defines the position of the offcanvas by setting css class\n     * @param {'left'|'right'|'bottom'} position\n     * @returns {string}\n     * @private\n     */\n\n  }, {\n    key: \"_getPositionClass\",\n    value: function _getPositionClass(position) {\n      return \"is-\".concat(position);\n    }\n    /**\n     * Creates the offcanvas element prototype including all relevant settings,\n     * appends it to the DOM and returns the HTMLElement for further processing\n     * @param {'left'|'right'|'bottom'} position\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     * @returns {HTMLElement}\n     * @private\n     */\n\n  }, {\n    key: \"_createOffCanvas\",\n    value: function _createOffCanvas(position, fullwidth, cssClass) {\n      var offCanvas = document.createElement('div');\n      offCanvas.classList.add(OFF_CANVAS_CLASS);\n      offCanvas.classList.add(this._getPositionClass(position));\n\n      if (fullwidth === true) {\n        offCanvas.classList.add(OFF_CANVAS_FULLWIDTH_CLASS);\n      }\n\n      if (cssClass) {\n        var type = _typeof(cssClass);\n\n        if (type === 'string') {\n          offCanvas.classList.add(cssClass);\n        } else if (Array.isArray(cssClass)) {\n          cssClass.forEach(function (value) {\n            offCanvas.classList.add(value);\n          });\n        } else {\n          throw new Error(\"The type \\\"\".concat(type, \"\\\" is not supported. Please pass an array or a string.\"));\n        }\n      }\n\n      document.body.appendChild(offCanvas);\n      return offCanvas;\n    }\n  }]);\n\n  return OffCanvasSingleton;\n}();\n/**\n * Create the OffCanvas instance.\n * @type {Readonly<OffCanvasSingleton>}\n */\n\n\nvar OffCanvasInstance = Object.freeze(new OffCanvasSingleton());\n\nvar OffCanvas =\n/*#__PURE__*/\nfunction () {\n  function OffCanvas() {\n    _classCallCheck(this, OffCanvas);\n  }\n\n  _createClass(OffCanvas, null, [{\n    key: \"open\",\n\n    /**\n     * Open the OffCanvas\n     * @param {string} content\n     * @param {function|null} callback\n     * @param {'left'|'right'|'bottom'} position\n     * @param {boolean} closable\n     * @param {number} delay\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     */\n    value: function open(content) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'left';\n      var closable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var delay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _REMOVE_OFF_CANVAS_DELAY;\n      var fullwidth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      var cssClass = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : '';\n      OffCanvasInstance.open(content, callback, position, closable, delay, fullwidth, cssClass);\n    }\n    /**\n     * Change content of visible OffCanvas\n     * @param {string} content\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(content) {\n      var closable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _REMOVE_OFF_CANVAS_DELAY;\n      OffCanvasInstance.setContent(content, closable, delay);\n    }\n    /**\n     * adds an additional class to the offcanvas\n     *\n     * @param {string} className\n     */\n\n  }, {\n    key: \"setAdditionalClassName\",\n    value: function setAdditionalClassName(className) {\n      OffCanvasInstance.setAdditionalClassName(className);\n    }\n    /**\n     * Close the OffCanvas\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _REMOVE_OFF_CANVAS_DELAY;\n      OffCanvasInstance.close(delay);\n    }\n    /**\n     * Returns whether any OffCanvas exists or not\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      return OffCanvasInstance.exists();\n    }\n    /**\n     * returns all existing offcanvas elements\n     *\n     * @returns {NodeListOf<Element>}\n     */\n\n  }, {\n    key: \"getOffCanvas\",\n    value: function getOffCanvas() {\n      return OffCanvasInstance.getOffCanvas();\n    }\n    /**\n     * Expose constant\n     * @returns {number}\n     */\n\n  }, {\n    key: \"REMOVE_OFF_CANVAS_DELAY\",\n    value: function REMOVE_OFF_CANVAS_DELAY() {\n      return _REMOVE_OFF_CANVAS_DELAY;\n    }\n  }]);\n\n  return OffCanvas;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYksyMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9vZmZjYW52YXMvb2ZmY2FudmFzLnBsdWdpbi5qcz82Y2FkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZXZpY2VEZXRlY3Rpb24gZnJvbSAnc3JjL2hlbHBlci9kZXZpY2UtZGV0ZWN0aW9uLmhlbHBlcic7XG5pbXBvcnQgTmF0aXZlRXZlbnRFbWl0dGVyIGZyb20gJ3NyYy9oZWxwZXIvZW1pdHRlci5oZWxwZXInO1xuaW1wb3J0IEJhY2tkcm9wLCB7IEJBQ0tEUk9QX0VWRU5UIH0gZnJvbSAnc3JjL3V0aWxpdHkvYmFja2Ryb3AvYmFja2Ryb3AudXRpbCc7XG5pbXBvcnQgSXRlcmF0b3IgZnJvbSAnc3JjL2hlbHBlci9pdGVyYXRvci5oZWxwZXInO1xuXG5jb25zdCBPRkZfQ0FOVkFTX0NMQVNTID0gJ29mZmNhbnZhcyc7XG5jb25zdCBPRkZfQ0FOVkFTX09QRU5fQ0xBU1MgPSAnaXMtb3Blbic7XG5jb25zdCBPRkZfQ0FOVkFTX0ZVTExXSURUSF9DTEFTUyA9ICdpcy1mdWxsd2lkdGgnO1xuY29uc3QgT0ZGX0NBTlZBU19DTE9TRV9UUklHR0VSX0NMQVNTID0gJ2pzLW9mZmNhbnZhcy1jbG9zZSc7XG5jb25zdCBSRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSA9IDM1MDtcblxuY2xhc3MgT2ZmQ2FudmFzU2luZ2xldG9uIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiRlbWl0dGVyID0gbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIG9mZmNhbnZhcyBhbmQgaXRzIGJhY2tkcm9wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufG51bGx9IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsnbGVmdCd8J3JpZ2h0J3wnYm90dG9tJ30gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBmdWxsd2lkdGhcbiAgICAgKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gY3NzQ2xhc3NcbiAgICAgKi9cbiAgICBvcGVuKGNvbnRlbnQsIGNhbGxiYWNrLCBwb3NpdGlvbiwgY2xvc2FibGUsIGRlbGF5LCBmdWxsd2lkdGgsIGNzc0NsYXNzKSB7XG4gICAgICAgIC8vIGF2b2lkIG11bHRpcGxlIGJhY2tkcm9wc1xuICAgICAgICB0aGlzLl9yZW1vdmVFeGlzdGluZ09mZkNhbnZhcygpO1xuXG4gICAgICAgIGNvbnN0IG9mZkNhbnZhcyA9IHRoaXMuX2NyZWF0ZU9mZkNhbnZhcyhwb3NpdGlvbiwgZnVsbHdpZHRoLCBjc3NDbGFzcyk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudChjb250ZW50LCBjbG9zYWJsZSwgZGVsYXkpO1xuICAgICAgICB0aGlzLl9vcGVuT2ZmY2FudmFzKG9mZkNhbnZhcywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjaGFuZ2UgdGhlIGNvbnRlbnQgb2YgdGhlIGFscmVhZHkgdmlzaWJsZSBPZmZDYW52YXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2FibGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKi9cbiAgICBzZXRDb250ZW50KGNvbnRlbnQsIGNsb3NhYmxlLCBkZWxheSkge1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLmdldE9mZkNhbnZhcygpO1xuXG4gICAgICAgIGlmICghb2ZmQ2FudmFzWzBdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvZmZDYW52YXNbMF0uaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgICAgICAvL3JlZ2lzdGVyIGV2ZW50cyBhZ2FpblxuICAgICAgICB0aGlzLl9yZWdpc3RlckV2ZW50cyhjbG9zYWJsZSwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZHMgYW4gYWRkaXRpb25hbCBjbGFzcyB0byB0aGUgb2ZmY2FudmFzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAgICovXG4gICAgc2V0QWRkaXRpb25hbENsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3Qgb2ZmQ2FudmFzID0gdGhpcy5nZXRPZmZDYW52YXMoKTtcbiAgICAgICAgb2ZmQ2FudmFzWzBdLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgbGlzdCBvZiBleGlzdGluZyBvZmZjYW52YXNcbiAgICAgKiBAcmV0dXJucyB7Tm9kZUxpc3RPZjxFbGVtZW50Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldE9mZkNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke09GRl9DQU5WQVNfQ0xBU1N9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIG9mZmNhbnZhcyBhbmQgaXRzIGJhY2tkcm9wIHdoZW4gdGhlIGJyb3dzZXIgZ29lcyBiYWNrIGluIGhpc3RvcnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKi9cbiAgICBjbG9zZShkZWxheSkge1xuICAgICAgICAvLyByZW1vdmUgb3BlbiBjbGFzcyB0byBtYWtlIGFueSBjc3MgYW5pbWF0aW9uIGVmZmVjdHMgcG9zc2libGVcbiAgICAgICAgY29uc3QgT2ZmQ2FudmFzRWxlbWVudHMgPSB0aGlzLmdldE9mZkNhbnZhcygpO1xuICAgICAgICBJdGVyYXRvci5pdGVyYXRlKE9mZkNhbnZhc0VsZW1lbnRzLCBiYWNrZHJvcCA9PiBiYWNrZHJvcC5jbGFzc0xpc3QucmVtb3ZlKE9GRl9DQU5WQVNfT1BFTl9DTEFTUykpO1xuXG4gICAgICAgIC8vIHdhaXQgYmVmb3JlIHJlbW92aW5nIGJhY2tkcm9wIHRvIGxldCBjc3MgYW5pbWF0aW9uIGVmZmVjdHMgdGFrZSBwbGFjZVxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX3JlbW92ZUV4aXN0aW5nT2ZmQ2FudmFzLmJpbmQodGhpcyksIGRlbGF5KTtcblxuICAgICAgICBCYWNrZHJvcC5yZW1vdmUoZGVsYXkpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5wdWJsaXNoKCdvbkNsb3NlT2ZmY2FudmFzJywge1xuICAgICAgICAgICAgICAgIG9mZkNhbnZhc0NvbnRlbnQ6IE9mZkNhbnZhc0VsZW1lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGZvciBjbG9zZSBidXR0b24sIGdvZXMgYmFjayBpbiBicm93c2VyIGhpc3RvcnkgdG8gdHJpZ2dlciBjbG9zZVxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIGdvQmFja0luSGlzdG9yeSgpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBhbnkgT2ZmQ2FudmFzIGV4aXN0cyBvciBub3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdHMoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRPZmZDYW52YXMoKS5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgb2ZmY2FudmFzIGFuZCBpdHMgYmFja2Ryb3BcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9mZkNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vcGVuT2ZmY2FudmFzKG9mZkNhbnZhcywgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gdGhlIHRpbWVvdXQgYWxsb3dzIHRvIGFwcGx5IHRoZSBhbmltYXRpb24gZWZmZWN0c1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIEJhY2tkcm9wLmNyZWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQoT0ZGX0NBTlZBU19PUEVOX0NMQVNTKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoJ29mZmNhbnZhcy1vcGVuJywgJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBiZWluZyBpbmplY3RlZCBleGVjdXRlIGl0IGFmdGVyIG9wZW5pbmcgdGhlIE9mZkNhbnZhc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNzUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2FibGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3RlckV2ZW50cyhjbG9zYWJsZSwgZGVsYXkpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSAoRGV2aWNlRGV0ZWN0aW9uLmlzVG91Y2hEZXZpY2UoKSkgPyAndG91Y2hzdGFydCcgOiAnY2xpY2snO1xuXG4gICAgICAgIGlmIChjbG9zYWJsZSkge1xuICAgICAgICAgICAgY29uc3Qgb25CYWNrZHJvcENsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoZGVsYXkpO1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgaW1tZWRpYXRlbHkgdG8gYXZvaWQgbXVsdGlwbGUgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihCQUNLRFJPUF9FVkVOVC5PTl9DTElDSywgb25CYWNrZHJvcENsaWNrKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoQkFDS0RST1BfRVZFTlQuT05fQ0xJQ0ssIG9uQmFja2Ryb3BDbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCB0aGlzLmNsb3NlLmJpbmQodGhpcywgZGVsYXkpLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGNsb3NlVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtPRkZfQ0FOVkFTX0NMT1NFX1RSSUdHRVJfQ0xBU1N9YCk7XG4gICAgICAgIEl0ZXJhdG9yLml0ZXJhdGUoY2xvc2VUcmlnZ2VycywgdHJpZ2dlciA9PiB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuZ29CYWNrSW5IaXN0b3J5LmJpbmQodGhpcykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGV4aXN0aW5nIG9mZmNhbnZhcyBmcm9tIERPTVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUV4aXN0aW5nT2ZmQ2FudmFzKCkge1xuICAgICAgICBjb25zdCBvZmZDYW52YXNFbGVtZW50cyA9IHRoaXMuZ2V0T2ZmQ2FudmFzKCk7XG4gICAgICAgIHJldHVybiBJdGVyYXRvci5pdGVyYXRlKG9mZkNhbnZhc0VsZW1lbnRzLCBvZmZDYW52YXMgPT4gb2ZmQ2FudmFzLnJlbW92ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgb2ZmY2FudmFzIGJ5IHNldHRpbmcgY3NzIGNsYXNzXG4gICAgICogQHBhcmFtIHsnbGVmdCd8J3JpZ2h0J3wnYm90dG9tJ30gcG9zaXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFBvc2l0aW9uQ2xhc3MocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGBpcy0ke3Bvc2l0aW9ufWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgb2ZmY2FudmFzIGVsZW1lbnQgcHJvdG90eXBlIGluY2x1ZGluZyBhbGwgcmVsZXZhbnQgc2V0dGluZ3MsXG4gICAgICogYXBwZW5kcyBpdCB0byB0aGUgRE9NIGFuZCByZXR1cm5zIHRoZSBIVE1MRWxlbWVudCBmb3IgZnVydGhlciBwcm9jZXNzaW5nXG4gICAgICogQHBhcmFtIHsnbGVmdCd8J3JpZ2h0J3wnYm90dG9tJ30gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZ1bGx3aWR0aFxuICAgICAqIEBwYXJhbSB7YXJyYXl8c3RyaW5nfSBjc3NDbGFzc1xuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVPZmZDYW52YXMocG9zaXRpb24sIGZ1bGx3aWR0aCwgY3NzQ2xhc3MpIHtcbiAgICAgICAgY29uc3Qgb2ZmQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKE9GRl9DQU5WQVNfQ0xBU1MpO1xuICAgICAgICBvZmZDYW52YXMuY2xhc3NMaXN0LmFkZCh0aGlzLl9nZXRQb3NpdGlvbkNsYXNzKHBvc2l0aW9uKSk7XG5cbiAgICAgICAgaWYgKGZ1bGx3aWR0aCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgb2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQoT0ZGX0NBTlZBU19GVUxMV0lEVEhfQ0xBU1MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNzc0NsYXNzKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNzc0NsYXNzO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBvZmZDYW52YXMuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY3NzQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3MuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIFwiJHt0eXBlfVwiIGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBwYXNzIGFuIGFycmF5IG9yIGEgc3RyaW5nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvZmZDYW52YXMpO1xuXG4gICAgICAgIHJldHVybiBvZmZDYW52YXM7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQ3JlYXRlIHRoZSBPZmZDYW52YXMgaW5zdGFuY2UuXG4gKiBAdHlwZSB7UmVhZG9ubHk8T2ZmQ2FudmFzU2luZ2xldG9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IE9mZkNhbnZhc0luc3RhbmNlID0gT2JqZWN0LmZyZWV6ZShuZXcgT2ZmQ2FudmFzU2luZ2xldG9uKCkpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPZmZDYW52YXMge1xuXG4gICAgLyoqXG4gICAgICogT3BlbiB0aGUgT2ZmQ2FudmFzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufG51bGx9IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsnbGVmdCd8J3JpZ2h0J3wnYm90dG9tJ30gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBmdWxsd2lkdGhcbiAgICAgKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gY3NzQ2xhc3NcbiAgICAgKi9cbiAgICBzdGF0aWMgb3Blbihjb250ZW50LCBjYWxsYmFjayA9IG51bGwsIHBvc2l0aW9uID0gJ2xlZnQnLCBjbG9zYWJsZSA9IHRydWUsIGRlbGF5ID0gUkVNT1ZFX09GRl9DQU5WQVNfREVMQVksIGZ1bGx3aWR0aCA9IGZhbHNlLCBjc3NDbGFzcyA9ICcnKSB7XG4gICAgICAgIE9mZkNhbnZhc0luc3RhbmNlLm9wZW4oY29udGVudCwgY2FsbGJhY2ssIHBvc2l0aW9uLCBjbG9zYWJsZSwgZGVsYXksIGZ1bGx3aWR0aCwgY3NzQ2xhc3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSBjb250ZW50IG9mIHZpc2libGUgT2ZmQ2FudmFzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICovXG4gICAgc3RhdGljIHNldENvbnRlbnQoY29udGVudCwgY2xvc2FibGUgPSB0cnVlLCBkZWxheSA9IFJFTU9WRV9PRkZfQ0FOVkFTX0RFTEFZKSB7XG4gICAgICAgIE9mZkNhbnZhc0luc3RhbmNlLnNldENvbnRlbnQoY29udGVudCwgY2xvc2FibGUsIGRlbGF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZGRzIGFuIGFkZGl0aW9uYWwgY2xhc3MgdG8gdGhlIG9mZmNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRBZGRpdGlvbmFsQ2xhc3NOYW1lKGNsYXNzTmFtZSkge1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5zZXRBZGRpdGlvbmFsQ2xhc3NOYW1lKGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIE9mZkNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAqL1xuICAgIHN0YXRpYyBjbG9zZShkZWxheSA9IFJFTU9WRV9PRkZfQ0FOVkFTX0RFTEFZKSB7XG4gICAgICAgIE9mZkNhbnZhc0luc3RhbmNlLmNsb3NlKGRlbGF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYW55IE9mZkNhbnZhcyBleGlzdHMgb3Igbm90XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGV4aXN0cygpIHtcbiAgICAgICAgcmV0dXJuIE9mZkNhbnZhc0luc3RhbmNlLmV4aXN0cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYWxsIGV4aXN0aW5nIG9mZmNhbnZhcyBlbGVtZW50c1xuICAgICAqXG4gICAgICogQHJldHVybnMge05vZGVMaXN0T2Y8RWxlbWVudD59XG4gICAgICovXG4gICAgc3RhdGljIGdldE9mZkNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIE9mZkNhbnZhc0luc3RhbmNlLmdldE9mZkNhbnZhcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBjb25zdGFudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIFJFTU9WRV9PRkZfQ0FOVkFTX0RFTEFZKCkge1xuICAgICAgICByZXR1cm4gUkVNT1ZFX09GRl9DQU5WQVNfREVMQVk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7OztBQUlBOzs7Ozs7QUFJQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7OztBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///bK22\n");

/***/ }),

/***/ "lpb5":
/*!***************************************************!*\
  !*** ./plugin/offcanvas/ajax-offcanvas.plugin.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AjaxOffCanvas; });\n/* harmony import */ var src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin/offcanvas/offcanvas.plugin */ \"bK22\");\n/* harmony import */ var src_service_http_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/service/http-client.service */ \"k8s9\");\n/* harmony import */ var src_utility_loading_indicator_loading_indicator_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utility/loading-indicator/loading-indicator.util */ \"5lm9\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n // xhr call storage\n\nvar xhr = null;\n\nvar AjaxOffCanvas =\n/*#__PURE__*/\nfunction (_OffCanvas) {\n  _inherits(AjaxOffCanvas, _OffCanvas);\n\n  function AjaxOffCanvas() {\n    _classCallCheck(this, AjaxOffCanvas);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AjaxOffCanvas).apply(this, arguments));\n  }\n\n  _createClass(AjaxOffCanvas, null, [{\n    key: \"open\",\n\n    /**\n     * Fire AJAX request to get the offcanvas content\n     *\n     * @param {string} url\n     * @param {*|boolean} data\n     * @param {function|null} callback\n     * @param {'left'|'right'} position\n     * @param {boolean} closable\n     * @param {number} delay\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     */\n    value: function open() {\n      var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var position = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'left';\n      var closable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var delay = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"].REMOVE_OFF_CANVAS_DELAY();\n      var fullwidth = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n      var cssClass = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';\n\n      if (!url) {\n        throw new Error('A url must be given!');\n      } // avoid multiple backdrops\n\n\n      src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._removeExistingOffCanvas();\n\n      var offCanvas = src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._createOffCanvas(position, fullwidth, cssClass);\n\n      this.setContent(url, data, callback, closable, delay);\n\n      src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._openOffcanvas(offCanvas);\n    }\n    /**\n     * Method to change the content of the already visible OffCanvas via xhr\n     *\n     * @param {string} url\n     * @param {*} data\n     * @param {function} callback\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(url, data, callback, closable, delay) {\n      var _this = this;\n\n      var client = new src_service_http_client_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n      _get(_getPrototypeOf(AjaxOffCanvas), \"setContent\", this).call(this, \"<div class=\\\"offcanvas-content-container\\\">\".concat(src_utility_loading_indicator_loading_indicator_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTemplate(), \"</div>\"), closable, delay); // interrupt already running ajax calls\n\n\n      if (xhr) xhr.abort();\n\n      var cb = function cb(response) {\n        _get(_getPrototypeOf(AjaxOffCanvas), \"setContent\", _this).call(_this, response, closable, delay); // if a callback function is being injected execute it after opening the OffCanvas\n\n\n        if (typeof callback === 'function') {\n          callback(response);\n        }\n      };\n\n      if (data) {\n        xhr = client.post(url, data, AjaxOffCanvas.executeCallback.bind(this, cb));\n      } else {\n        xhr = client.get(url, AjaxOffCanvas.executeCallback.bind(this, cb));\n      }\n    }\n    /**\n     * Executes the given callback\n     * and initializes all plugins\n     *\n     * @param {function} cb\n     * @param {string} response\n     */\n\n  }, {\n    key: \"executeCallback\",\n    value: function executeCallback(cb, response) {\n      if (typeof cb === 'function') {\n        cb(response);\n      }\n\n      window.PluginManager.initializePlugins();\n    }\n  }]);\n\n  return AjaxOffCanvas;\n}(src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHBiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9vZmZjYW52YXMvYWpheC1vZmZjYW52YXMucGx1Z2luLmpzPzk2OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9mZkNhbnZhcywgeyBPZmZDYW52YXNJbnN0YW5jZSB9IGZyb20gJ3NyYy9wbHVnaW4vb2ZmY2FudmFzL29mZmNhbnZhcy5wbHVnaW4nO1xuaW1wb3J0IEh0dHBDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2UvaHR0cC1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICdzcmMvdXRpbGl0eS9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuLy8geGhyIGNhbGwgc3RvcmFnZVxubGV0IHhociA9IG51bGw7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFqYXhPZmZDYW52YXMgZXh0ZW5kcyBPZmZDYW52YXMge1xuXG4gICAgLyoqXG4gICAgICogRmlyZSBBSkFYIHJlcXVlc3QgdG8gZ2V0IHRoZSBvZmZjYW52YXMgY29udGVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7Knxib29sZWFufSBkYXRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbnxudWxsfSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7J2xlZnQnfCdyaWdodCd9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zYWJsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZnVsbHdpZHRoXG4gICAgICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGNzc0NsYXNzXG4gICAgICovXG4gICAgc3RhdGljIG9wZW4odXJsID0gZmFsc2UsIGRhdGEgPSBmYWxzZSwgY2FsbGJhY2sgPSBudWxsLCBwb3NpdGlvbiA9ICdsZWZ0JywgY2xvc2FibGUgPSB0cnVlLCBkZWxheSA9IE9mZkNhbnZhcy5SRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSgpLCBmdWxsd2lkdGggPSBmYWxzZSwgY3NzQ2xhc3MgPSAnJykge1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHVybCBtdXN0IGJlIGdpdmVuIScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGF2b2lkIG11bHRpcGxlIGJhY2tkcm9wc1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5fcmVtb3ZlRXhpc3RpbmdPZmZDYW52YXMoKTtcblxuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSBPZmZDYW52YXNJbnN0YW5jZS5fY3JlYXRlT2ZmQ2FudmFzKHBvc2l0aW9uLCBmdWxsd2lkdGgsIGNzc0NsYXNzKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KHVybCwgZGF0YSwgY2FsbGJhY2ssIGNsb3NhYmxlLCBkZWxheSk7XG4gICAgICAgIE9mZkNhbnZhc0luc3RhbmNlLl9vcGVuT2ZmY2FudmFzKG9mZkNhbnZhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNoYW5nZSB0aGUgY29udGVudCBvZiB0aGUgYWxyZWFkeSB2aXNpYmxlIE9mZkNhbnZhcyB2aWEgeGhyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICovXG4gICAgc3RhdGljIHNldENvbnRlbnQodXJsLCBkYXRhLCBjYWxsYmFjaywgY2xvc2FibGUsIGRlbGF5KSB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBIdHRwQ2xpZW50KCk7XG4gICAgICAgIHN1cGVyLnNldENvbnRlbnQoYDxkaXYgY2xhc3M9XCJvZmZjYW52YXMtY29udGVudC1jb250YWluZXJcIj4ke0xvYWRpbmdJbmRpY2F0b3IuZ2V0VGVtcGxhdGUoKX08L2Rpdj5gLCBjbG9zYWJsZSwgZGVsYXkpO1xuXG4gICAgICAgIC8vIGludGVycnVwdCBhbHJlYWR5IHJ1bm5pbmcgYWpheCBjYWxsc1xuICAgICAgICBpZiAoeGhyKSB4aHIuYWJvcnQoKTtcblxuICAgICAgICBjb25zdCBjYiA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgc3VwZXIuc2V0Q29udGVudChyZXNwb25zZSwgY2xvc2FibGUsIGRlbGF5KTtcbiAgICAgICAgICAgIC8vIGlmIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgYmVpbmcgaW5qZWN0ZWQgZXhlY3V0ZSBpdCBhZnRlciBvcGVuaW5nIHRoZSBPZmZDYW52YXNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHhociA9IGNsaWVudC5wb3N0KHVybCwgZGF0YSwgQWpheE9mZkNhbnZhcy5leGVjdXRlQ2FsbGJhY2suYmluZCh0aGlzLGNiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIgPSBjbGllbnQuZ2V0KHVybCwgQWpheE9mZkNhbnZhcy5leGVjdXRlQ2FsbGJhY2suYmluZCh0aGlzLGNiKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgZ2l2ZW4gY2FsbGJhY2tcbiAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgYWxsIHBsdWdpbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlXG4gICAgICovXG4gICAgc3RhdGljIGV4ZWN1dGVDYWxsYmFjayhjYiwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5QbHVnaW5NYW5hZ2VyLmluaXRpYWxpemVQbHVnaW5zKCk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7O0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7QUFTQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFyRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///lpb5\n");

/***/ }),

/***/ "t8WJ":
/*!******************************************************!*\
  !*** ./plugin/cookie/cookie-configuration.plugin.js ***!
  \******************************************************/
/*! exports provided: COOKIE_CONFIGURATION_UPDATE, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COOKIE_CONFIGURATION_UPDATE\", function() { return COOKIE_CONFIGURATION_UPDATE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CookieConfiguration; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/storage/cookie-storage.helper */ \"prSB\");\n/* harmony import */ var src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/plugin/offcanvas/ajax-offcanvas.plugin */ \"lpb5\");\n/* harmony import */ var src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/plugin/offcanvas/offcanvas.plugin */ \"bK22\");\n/* harmony import */ var src_utility_modal_extension_ajax_modal_extension_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/utility/modal-extension/ajax-modal-extension.util */ \"DeZd\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n *\n * CookieConfiguration plugin\n * --------------------------\n * Renders the configuration template inside an offCanvas\n *\n * Applies its \"openOffCanvas\"-eventHandler to the following selector:\n * 1) '.js-cookie-configuration-button button'\n * 2) `[href=\"${window.router['frontend.cookie.offcanvas']}\"]`\n *\n * Can be opened manually using the public method \"openOffCanvas\"\n *\n * The cookie form is defined via CookieController.php\n * Cookies marked as \"required\" (see CookieController.php) are ignored, since they are assumed to be set manually\n *\n * Configuration changes are pushed to the global (document) event \"CookieConfiguration_Update\"\n *\n */\n\n/* global PluginManager, window */\n\n\n\n\n // this event will be published via a global (document) EventEmitter\n\nvar COOKIE_CONFIGURATION_UPDATE = 'CookieConfiguration_Update';\n\nvar CookieConfiguration =\n/*#__PURE__*/\nfunction (_Plugin) {\n  _inherits(CookieConfiguration, _Plugin);\n\n  function CookieConfiguration() {\n    _classCallCheck(this, CookieConfiguration);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CookieConfiguration).apply(this, arguments));\n  }\n\n  _createClass(CookieConfiguration, [{\n    key: \"init\",\n    value: function init() {\n      this.lastState = {\n        active: [],\n        inactive: []\n      };\n      this.ajaxModalExtension = null;\n\n      this._registerEvents();\n    }\n    /**\n     * Registers the events for displaying the offCanvas\n     * Applies the event to all elements using the \"buttonOpenSelector\" or \"customLinkSelector\"\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents() {\n      var _this = this;\n\n      var _this$options = this.options,\n          submitEvent = _this$options.submitEvent,\n          buttonOpenSelector = _this$options.buttonOpenSelector,\n          customLinkSelector = _this$options.customLinkSelector;\n      Array.from(document.querySelectorAll(buttonOpenSelector)).forEach(function (button) {\n        button.addEventListener(submitEvent, _this.openOffCanvas.bind(_this));\n      });\n      Array.from(document.querySelectorAll(customLinkSelector)).forEach(function (customLink) {\n        customLink.addEventListener(submitEvent, _this._handleCustomLink.bind(_this));\n      });\n    }\n    /**\n     * Registers events required by the offCanvas template\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_registerOffCanvasEvents\",\n    value: function _registerOffCanvasEvents() {\n      var _this2 = this;\n\n      var _this$options2 = this.options,\n          submitEvent = _this$options2.submitEvent,\n          buttonSubmitSelector = _this$options2.buttonSubmitSelector,\n          buttonAcceptAllSelector = _this$options2.buttonAcceptAllSelector,\n          wrapperToggleSelector = _this$options2.wrapperToggleSelector;\n\n      var offCanvas = this._getOffCanvas();\n\n      if (offCanvas) {\n        var button = offCanvas.querySelector(buttonSubmitSelector);\n        var buttonAcceptAll = offCanvas.querySelector(buttonAcceptAllSelector);\n        var checkboxes = Array.from(offCanvas.querySelectorAll('input[type=\"checkbox\"]'));\n        var wrapperTrigger = Array.from(offCanvas.querySelectorAll(wrapperToggleSelector));\n\n        if (button) {\n          button.addEventListener(submitEvent, this._handleSubmit.bind(this, src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n        }\n\n        if (buttonAcceptAll) {\n          buttonAcceptAll.addEventListener(submitEvent, this._handleAcceptAll.bind(this, src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n        }\n\n        checkboxes.forEach(function (checkbox) {\n          checkbox.addEventListener(submitEvent, _this2._handleCheckbox.bind(_this2));\n        });\n        wrapperTrigger.forEach(function (trigger) {\n          trigger.addEventListener(submitEvent, _this2._handleWrapperTrigger.bind(_this2));\n        });\n      }\n    }\n    /**\n     * Prevent the event default e.g. for anchor elements using the href-selector\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleCustomLink\",\n    value: function _handleCustomLink(event) {\n      event.preventDefault();\n      this.openOffCanvas();\n    }\n  }, {\n    key: \"_handleUpdateListener\",\n    value: function _handleUpdateListener(active, inactive) {\n      var updatedCookies = this._getUpdatedCookies(active, inactive);\n\n      document.$emitter.publish(COOKIE_CONFIGURATION_UPDATE, updatedCookies);\n    }\n    /**\n     * Compare the current in-/active cookies to the initialState and return updated cookies only\n     *\n     * @param active\n     * @param inactive\n     * @private\n     */\n\n  }, {\n    key: \"_getUpdatedCookies\",\n    value: function _getUpdatedCookies(active, inactive) {\n      var lastState = this.lastState;\n      var updated = {};\n      active.forEach(function (currentCheckbox) {\n        if (lastState.inactive.includes(currentCheckbox)) {\n          updated[currentCheckbox] = true;\n        }\n      });\n      inactive.forEach(function (currentCheckbox) {\n        if (lastState.active.includes(currentCheckbox)) {\n          updated[currentCheckbox] = false;\n        }\n      });\n      return updated;\n    }\n    /**\n     * Public method to open the offCanvas\n     *\n     * @param {function|null} callback\n     */\n\n  }, {\n    key: \"openOffCanvas\",\n    value: function openOffCanvas(callback) {\n      var offCanvasPosition = this.options.offCanvasPosition;\n      var url = window.router['frontend.cookie.offcanvas'];\n\n      this._hideCookieBar();\n\n      src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"].open(url, false, this._onOffCanvasOpened.bind(this, callback), offCanvasPosition);\n    }\n    /**\n     * Public method to close the offCanvas\n     *\n     * @param callback\n     */\n\n  }, {\n    key: \"closeOffCanvas\",\n    value: function closeOffCanvas(callback) {\n      src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close();\n      this.ajaxModalExtension = null;\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n    /**\n     * Private method to apply events to the cookie-configuration template\n     * Also sets the initial checkbox state based on currently set cookies\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_onOffCanvasOpened\",\n    value: function _onOffCanvasOpened(callback) {\n      this._registerOffCanvasEvents();\n\n      this.ajaxModalExtension = new src_utility_modal_extension_ajax_modal_extension_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"](false);\n\n      this._setInitialState();\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }, {\n    key: \"_hideCookieBar\",\n    value: function _hideCookieBar() {\n      var cookiePermissionPlugin = PluginManager.getPluginInstances('CookiePermission');\n\n      if (cookiePermissionPlugin && cookiePermissionPlugin[0]) {\n        cookiePermissionPlugin[0]._hideCookieBar();\n\n        cookiePermissionPlugin[0]._removeBodyPadding();\n      }\n    }\n    /**\n     * Get current cookie configuration and preselect coherent checkboxes\n     * Required cookies are already checked in the template\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_setInitialState\",\n    value: function _setInitialState() {\n      var _this3 = this;\n\n      var offCanvas = this._getOffCanvas();\n\n      var cookies = this._getCookies('all');\n\n      var activeCookies = [];\n      var inactiveCookies = [];\n      cookies.forEach(function (_ref) {\n        var cookie = _ref.cookie,\n            required = _ref.required;\n        var isActive = src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(cookie);\n\n        if (isActive || required) {\n          activeCookies.push(cookie);\n        } else {\n          inactiveCookies.push(cookie);\n        }\n      });\n      this.lastState = {\n        active: activeCookies,\n        inactive: inactiveCookies\n      };\n      activeCookies.forEach(function (activeCookie) {\n        var target = offCanvas.querySelector(\"[data-cookie=\\\"\".concat(activeCookie, \"\\\"]\"));\n        target.checked = true;\n\n        _this3._childCheckboxEvent(target);\n      });\n    }\n    /**\n     * From click target, try to find the cookie group container and toggle the open state\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleWrapperTrigger\",\n    value: function _handleWrapperTrigger(event) {\n      event.preventDefault();\n      var _this$options3 = this.options,\n          entriesActiveClass = _this$options3.entriesActiveClass,\n          entriesClass = _this$options3.entriesClass,\n          groupClass = _this$options3.groupClass;\n      var target = event.target;\n\n      var cookieEntryContainer = this._findParentEl(target, entriesClass, groupClass);\n\n      if (cookieEntryContainer) {\n        var active = cookieEntryContainer.classList.contains(entriesActiveClass);\n\n        if (active) {\n          cookieEntryContainer.classList.remove(entriesActiveClass);\n        } else {\n          cookieEntryContainer.classList.add(entriesActiveClass);\n        }\n      }\n    }\n    /**\n     * Determine whether the target checkbox is a parent or a child checkbox\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleCheckbox\",\n    value: function _handleCheckbox(event) {\n      var parentInputClass = this.options.parentInputClass;\n      var target = event.target;\n      var callback = target.classList.contains(parentInputClass) ? this._parentCheckboxEvent : this._childCheckboxEvent;\n      callback.call(this, target);\n    }\n    /**\n     * Recursively checks the provided elements parent for the first class parameter\n     * Stops the recursion, if the parentElement contains the second class parameter\n     *\n     * @param el\n     * @param findClass\n     * @param abortClass\n     * @returns {*|HTMLElement|*}\n     * @private\n     */\n\n  }, {\n    key: \"_findParentEl\",\n    value: function _findParentEl(el, findClass) {\n      var abortClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      while (!!el && !el.classList.contains(abortClass)) {\n        if (el.classList.contains(findClass)) {\n          return el;\n        }\n\n        el = el.parentElement;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_isChecked\",\n    value: function _isChecked(target) {\n      return !!target.checked;\n    }\n    /**\n     * De-/select all checkboxes of the current group\n     *\n     * @param target\n     * @private\n     */\n\n  }, {\n    key: \"_parentCheckboxEvent\",\n    value: function _parentCheckboxEvent(target) {\n      var groupClass = this.options.groupClass;\n\n      var newState = this._isChecked(target);\n\n      var group = this._findParentEl(target, groupClass);\n\n      this._toggleWholeGroup(newState, group);\n    }\n    /**\n     *\n     * Trigger a change event for the \"select-all\" checkbox of the childs group\n     *\n     * @param target\n     * @private\n     */\n\n  }, {\n    key: \"_childCheckboxEvent\",\n    value: function _childCheckboxEvent(target) {\n      var groupClass = this.options.groupClass;\n\n      var newState = this._isChecked(target);\n\n      var group = this._findParentEl(target, groupClass);\n\n      this._toggleParentCheckbox(newState, group);\n    }\n    /**\n     * Toogle each checkbox inside the given group\n     *\n     * @param state\n     * @param group\n     * @private\n     */\n\n  }, {\n    key: \"_toggleWholeGroup\",\n    value: function _toggleWholeGroup(state, group) {\n      Array.from(group.querySelectorAll('input')).forEach(function (checkbox) {\n        checkbox.checked = state;\n      });\n    }\n    /**\n     * Toggle a groups \"select-all\" checkbox according to changes to its child checkboxes\n     * \"Check, if any child checkbox is checked\" / \"Uncheck, if no child checkboxes are checked\"\n     *\n     * @param state\n     * @param group\n     * @private\n     */\n\n  }, {\n    key: \"_toggleParentCheckbox\",\n    value: function _toggleParentCheckbox(state, group) {\n      var parentInputSelector = this.options.parentInputSelector;\n      var checkboxes = Array.from(group.querySelectorAll(\"input:not(\".concat(parentInputSelector, \")\")));\n      var activeCheckboxes = Array.from(group.querySelectorAll(\"input:not(\".concat(parentInputSelector, \"):checked\")));\n\n      if (checkboxes.length > 0) {\n        var parentCheckbox = group.querySelector(parentInputSelector);\n\n        if (parentCheckbox) {\n          var checked = activeCheckboxes.length > 0;\n          var indeterminate = checked && activeCheckboxes.length !== checkboxes.length;\n          parentCheckbox.checked = checked;\n          parentCheckbox.indeterminate = indeterminate;\n        }\n      }\n    }\n    /**\n     * Event handler for the 'Save' button inside the offCanvas\n     *\n     * Removes unselected cookies, if already set\n     * Sets or refreshes selected cookies\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_handleSubmit\",\n    value: function _handleSubmit() {\n      var activeCookies = this._getCookies('active');\n\n      var inactiveCookies = this._getCookies('inactive');\n\n      var cookiePreference = this.options.cookiePreference;\n      var activeCookieNames = [];\n      var inactiveCookieNames = [];\n      inactiveCookies.forEach(function (_ref2) {\n        var cookie = _ref2.cookie;\n        inactiveCookieNames.push(cookie);\n\n        if (src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(cookie)) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeItem(cookie);\n        }\n      });\n      /**\n       * Cookies without value are passed to the updateListener\n       * ( see \"_handleUpdateListener\" method )\n       */\n\n      activeCookies.forEach(function (_ref3) {\n        var cookie = _ref3.cookie,\n            value = _ref3.value,\n            expiration = _ref3.expiration;\n        activeCookieNames.push(cookie);\n\n        if (cookie && value) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookie, value, expiration);\n        }\n      });\n      src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookiePreference, '1', '30');\n\n      this._handleUpdateListener(activeCookieNames, inactiveCookieNames);\n\n      this.closeOffCanvas();\n    }\n    /**\n     * Event handler for the 'Allow all'-button in the off canvas view.\n     *\n     * This will set and refresh all registered cookies.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_handleAcceptAll\",\n    value: function _handleAcceptAll() {\n      var allCookies = this._getCookies('all');\n\n      var cookiePreference = this.options.cookiePreference;\n      allCookies.forEach(function (_ref4) {\n        var cookie = _ref4.cookie,\n            value = _ref4.value,\n            expiration = _ref4.expiration;\n\n        if (cookie && value) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookie, value, expiration);\n        }\n      });\n      src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookiePreference, '1', '30');\n\n      this._handleUpdateListener(allCookies.map(function (_ref5) {\n        var cookie = _ref5.cookie;\n        return cookie;\n      }), []);\n\n      this.closeOffCanvas();\n    }\n    /**\n     * Get cookies passed to the configuration template\n     * Can be filtered by \"all\", \"active\" or \"inactive\"\n     *\n     * Always excludes \"required\" cookies, since they are assumed to be set separately.\n     *\n     * @param type\n     * @returns {Array}\n     * @private\n     */\n\n  }, {\n    key: \"_getCookies\",\n    value: function _getCookies() {\n      var _this4 = this;\n\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n      var cookieSelector = this.options.cookieSelector;\n\n      var offCanvas = this._getOffCanvas();\n\n      return Array.from(offCanvas.querySelectorAll(cookieSelector)).filter(function (cookieInput) {\n        switch (type) {\n          case 'all':\n            return true;\n\n          case 'active':\n            return _this4._isChecked(cookieInput);\n\n          case 'inactive':\n            return !_this4._isChecked(cookieInput);\n\n          default:\n            return false;\n        }\n      }).map(function (filteredInput) {\n        var _filteredInput$datase = filteredInput.dataset,\n            cookie = _filteredInput$datase.cookie,\n            cookieValue = _filteredInput$datase.cookieValue,\n            cookieExpiration = _filteredInput$datase.cookieExpiration,\n            cookieRequired = _filteredInput$datase.cookieRequired;\n        return {\n          cookie: cookie,\n          value: cookieValue,\n          expiration: cookieExpiration,\n          required: cookieRequired\n        };\n      });\n    }\n    /**\n     * Returns the current offcanvas element if available\n     *\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_getOffCanvas\",\n    value: function _getOffCanvas() {\n      var elements = src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ? src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getOffCanvas() : [];\n      return elements && elements.length > 0 ? elements[0] : false;\n    }\n  }]);\n\n  return CookieConfiguration;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(CookieConfiguration, \"options\", {\n  offCanvasPosition: 'left',\n  submitEvent: 'click',\n  cookiePreference: 'cookie-preference',\n  cookieSelector: '[data-cookie]',\n  buttonOpenSelector: '.js-cookie-configuration-button button',\n  buttonSubmitSelector: '.js-offcanvas-cookie-submit',\n  buttonAcceptAllSelector: '.js-offcanvas-cookie-accept-all',\n  wrapperToggleSelector: '.offcanvas-cookie-entries span',\n  parentInputSelector: '.offcanvas-cookie-parent-input',\n  customLinkSelector: \"[href=\\\"\".concat(window.router['frontend.cookie.offcanvas'], \"\\\"]\"),\n  entriesActiveClass: 'offcanvas-cookie-entries--active',\n  entriesClass: 'offcanvas-cookie-entries',\n  groupClass: 'offcanvas-cookie-group',\n  parentInputClass: 'offcanvas-cookie-parent-input'\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidDhXSi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9jb29raWUvY29va2llLWNvbmZpZ3VyYXRpb24ucGx1Z2luLmpzP2I3YzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29va2llQ29uZmlndXJhdGlvbiBwbHVnaW5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZW5kZXJzIHRoZSBjb25maWd1cmF0aW9uIHRlbXBsYXRlIGluc2lkZSBhbiBvZmZDYW52YXNcbiAqXG4gKiBBcHBsaWVzIGl0cyBcIm9wZW5PZmZDYW52YXNcIi1ldmVudEhhbmRsZXIgdG8gdGhlIGZvbGxvd2luZyBzZWxlY3RvcjpcbiAqIDEpICcuanMtY29va2llLWNvbmZpZ3VyYXRpb24tYnV0dG9uIGJ1dHRvbidcbiAqIDIpIGBbaHJlZj1cIiR7d2luZG93LnJvdXRlclsnZnJvbnRlbmQuY29va2llLm9mZmNhbnZhcyddfVwiXWBcbiAqXG4gKiBDYW4gYmUgb3BlbmVkIG1hbnVhbGx5IHVzaW5nIHRoZSBwdWJsaWMgbWV0aG9kIFwib3Blbk9mZkNhbnZhc1wiXG4gKlxuICogVGhlIGNvb2tpZSBmb3JtIGlzIGRlZmluZWQgdmlhIENvb2tpZUNvbnRyb2xsZXIucGhwXG4gKiBDb29raWVzIG1hcmtlZCBhcyBcInJlcXVpcmVkXCIgKHNlZSBDb29raWVDb250cm9sbGVyLnBocCkgYXJlIGlnbm9yZWQsIHNpbmNlIHRoZXkgYXJlIGFzc3VtZWQgdG8gYmUgc2V0IG1hbnVhbGx5XG4gKlxuICogQ29uZmlndXJhdGlvbiBjaGFuZ2VzIGFyZSBwdXNoZWQgdG8gdGhlIGdsb2JhbCAoZG9jdW1lbnQpIGV2ZW50IFwiQ29va2llQ29uZmlndXJhdGlvbl9VcGRhdGVcIlxuICpcbiAqL1xuXG4vKiBnbG9iYWwgUGx1Z2luTWFuYWdlciwgd2luZG93ICovXG5cbmltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcbmltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJ3NyYy9oZWxwZXIvc3RvcmFnZS9jb29raWUtc3RvcmFnZS5oZWxwZXInO1xuaW1wb3J0IEFqYXhPZmZDYW52YXMgZnJvbSAnc3JjL3BsdWdpbi9vZmZjYW52YXMvYWpheC1vZmZjYW52YXMucGx1Z2luJztcbmltcG9ydCBPZmZDYW52YXMgZnJvbSAnc3JjL3BsdWdpbi9vZmZjYW52YXMvb2ZmY2FudmFzLnBsdWdpbic7XG5pbXBvcnQgQWpheE1vZGFsRXh0ZW5zaW9uIGZyb20gJ3NyYy91dGlsaXR5L21vZGFsLWV4dGVuc2lvbi9hamF4LW1vZGFsLWV4dGVuc2lvbi51dGlsJztcblxuLy8gdGhpcyBldmVudCB3aWxsIGJlIHB1Ymxpc2hlZCB2aWEgYSBnbG9iYWwgKGRvY3VtZW50KSBFdmVudEVtaXR0ZXJcbmV4cG9ydCBjb25zdCBDT09LSUVfQ09ORklHVVJBVElPTl9VUERBVEUgPSAnQ29va2llQ29uZmlndXJhdGlvbl9VcGRhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb29raWVDb25maWd1cmF0aW9uIGV4dGVuZHMgUGx1Z2luIHtcblxuICAgIHN0YXRpYyBvcHRpb25zID0ge1xuICAgICAgICBvZmZDYW52YXNQb3NpdGlvbjogJ2xlZnQnLFxuICAgICAgICBzdWJtaXRFdmVudDogJ2NsaWNrJyxcbiAgICAgICAgY29va2llUHJlZmVyZW5jZTogJ2Nvb2tpZS1wcmVmZXJlbmNlJyxcbiAgICAgICAgY29va2llU2VsZWN0b3I6ICdbZGF0YS1jb29raWVdJyxcbiAgICAgICAgYnV0dG9uT3BlblNlbGVjdG9yOiAnLmpzLWNvb2tpZS1jb25maWd1cmF0aW9uLWJ1dHRvbiBidXR0b24nLFxuICAgICAgICBidXR0b25TdWJtaXRTZWxlY3RvcjogJy5qcy1vZmZjYW52YXMtY29va2llLXN1Ym1pdCcsXG4gICAgICAgIGJ1dHRvbkFjY2VwdEFsbFNlbGVjdG9yOiAnLmpzLW9mZmNhbnZhcy1jb29raWUtYWNjZXB0LWFsbCcsXG4gICAgICAgIHdyYXBwZXJUb2dnbGVTZWxlY3RvcjogJy5vZmZjYW52YXMtY29va2llLWVudHJpZXMgc3BhbicsXG4gICAgICAgIHBhcmVudElucHV0U2VsZWN0b3I6ICcub2ZmY2FudmFzLWNvb2tpZS1wYXJlbnQtaW5wdXQnLFxuICAgICAgICBjdXN0b21MaW5rU2VsZWN0b3I6IGBbaHJlZj1cIiR7d2luZG93LnJvdXRlclsnZnJvbnRlbmQuY29va2llLm9mZmNhbnZhcyddfVwiXWAsXG4gICAgICAgIGVudHJpZXNBY3RpdmVDbGFzczogJ29mZmNhbnZhcy1jb29raWUtZW50cmllcy0tYWN0aXZlJyxcbiAgICAgICAgZW50cmllc0NsYXNzOiAnb2ZmY2FudmFzLWNvb2tpZS1lbnRyaWVzJyxcbiAgICAgICAgZ3JvdXBDbGFzczogJ29mZmNhbnZhcy1jb29raWUtZ3JvdXAnLFxuICAgICAgICBwYXJlbnRJbnB1dENsYXNzOiAnb2ZmY2FudmFzLWNvb2tpZS1wYXJlbnQtaW5wdXQnXG4gICAgfTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMubGFzdFN0YXRlID0ge1xuICAgICAgICAgICAgYWN0aXZlOiBbXSxcbiAgICAgICAgICAgIGluYWN0aXZlOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWpheE1vZGFsRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9yZWdpc3RlckV2ZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyB0aGUgZXZlbnRzIGZvciBkaXNwbGF5aW5nIHRoZSBvZmZDYW52YXNcbiAgICAgKiBBcHBsaWVzIHRoZSBldmVudCB0byBhbGwgZWxlbWVudHMgdXNpbmcgdGhlIFwiYnV0dG9uT3BlblNlbGVjdG9yXCIgb3IgXCJjdXN0b21MaW5rU2VsZWN0b3JcIlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHsgc3VibWl0RXZlbnQsIGJ1dHRvbk9wZW5TZWxlY3RvciwgY3VzdG9tTGlua1NlbGVjdG9yIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGJ1dHRvbk9wZW5TZWxlY3RvcikpLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKHN1Ym1pdEV2ZW50LCB0aGlzLm9wZW5PZmZDYW52YXMuYmluZCh0aGlzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjdXN0b21MaW5rU2VsZWN0b3IpKS5mb3JFYWNoKGN1c3RvbUxpbmsgPT4ge1xuICAgICAgICAgICAgY3VzdG9tTGluay5hZGRFdmVudExpc3RlbmVyKHN1Ym1pdEV2ZW50LCB0aGlzLl9oYW5kbGVDdXN0b21MaW5rLmJpbmQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgZXZlbnRzIHJlcXVpcmVkIGJ5IHRoZSBvZmZDYW52YXMgdGVtcGxhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyT2ZmQ2FudmFzRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB7IHN1Ym1pdEV2ZW50LCBidXR0b25TdWJtaXRTZWxlY3RvciwgYnV0dG9uQWNjZXB0QWxsU2VsZWN0b3IsIHdyYXBwZXJUb2dnbGVTZWxlY3RvciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLl9nZXRPZmZDYW52YXMoKTtcblxuICAgICAgICBpZiAob2ZmQ2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihidXR0b25TdWJtaXRTZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBidXR0b25BY2NlcHRBbGwgPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihidXR0b25BY2NlcHRBbGxTZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gQXJyYXkuZnJvbShvZmZDYW52YXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlclRyaWdnZXIgPSBBcnJheS5mcm9tKG9mZkNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKHdyYXBwZXJUb2dnbGVTZWxlY3RvcikpO1xuXG4gICAgICAgICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMsIENvb2tpZVN0b3JhZ2UpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1dHRvbkFjY2VwdEFsbCkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkFjY2VwdEFsbC5hZGRFdmVudExpc3RlbmVyKHN1Ym1pdEV2ZW50LCB0aGlzLl9oYW5kbGVBY2NlcHRBbGwuYmluZCh0aGlzLCBDb29raWVTdG9yYWdlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihzdWJtaXRFdmVudCwgdGhpcy5faGFuZGxlQ2hlY2tib3guYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd3JhcHBlclRyaWdnZXIuZm9yRWFjaCh0cmlnZ2VyID0+IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMuX2hhbmRsZVdyYXBwZXJUcmlnZ2VyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IHRoZSBldmVudCBkZWZhdWx0IGUuZy4gZm9yIGFuY2hvciBlbGVtZW50cyB1c2luZyB0aGUgaHJlZi1zZWxlY3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGFuZGxlQ3VzdG9tTGluayhldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMub3Blbk9mZkNhbnZhcygpO1xuICAgIH1cblxuICAgIF9oYW5kbGVVcGRhdGVMaXN0ZW5lcihhY3RpdmUsIGluYWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDb29raWVzID0gdGhpcy5fZ2V0VXBkYXRlZENvb2tpZXMoYWN0aXZlLCBpbmFjdGl2ZSk7XG5cbiAgICAgICAgZG9jdW1lbnQuJGVtaXR0ZXIucHVibGlzaChDT09LSUVfQ09ORklHVVJBVElPTl9VUERBVEUsIHVwZGF0ZWRDb29raWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHRoZSBjdXJyZW50IGluLS9hY3RpdmUgY29va2llcyB0byB0aGUgaW5pdGlhbFN0YXRlIGFuZCByZXR1cm4gdXBkYXRlZCBjb29raWVzIG9ubHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY3RpdmVcbiAgICAgKiBAcGFyYW0gaW5hY3RpdmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRVcGRhdGVkQ29va2llcyhhY3RpdmUsIGluYWN0aXZlKSB7XG4gICAgICAgIGNvbnN0IHsgbGFzdFN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB1cGRhdGVkID0ge307XG5cbiAgICAgICAgYWN0aXZlLmZvckVhY2goY3VycmVudENoZWNrYm94ID0+IHtcbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuaW5hY3RpdmUuaW5jbHVkZXMoY3VycmVudENoZWNrYm94KSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRbY3VycmVudENoZWNrYm94XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGluYWN0aXZlLmZvckVhY2goY3VycmVudENoZWNrYm94ID0+IHtcbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuYWN0aXZlLmluY2x1ZGVzKGN1cnJlbnRDaGVja2JveCkpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkW2N1cnJlbnRDaGVja2JveF0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGljIG1ldGhvZCB0byBvcGVuIHRoZSBvZmZDYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb258bnVsbH0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBvcGVuT2ZmQ2FudmFzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHsgb2ZmQ2FudmFzUG9zaXRpb24gfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LnJvdXRlclsnZnJvbnRlbmQuY29va2llLm9mZmNhbnZhcyddO1xuXG4gICAgICAgIHRoaXMuX2hpZGVDb29raWVCYXIoKTtcblxuICAgICAgICBBamF4T2ZmQ2FudmFzLm9wZW4odXJsLCBmYWxzZSwgdGhpcy5fb25PZmZDYW52YXNPcGVuZWQuYmluZCh0aGlzLCBjYWxsYmFjayksIG9mZkNhbnZhc1Bvc2l0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaWMgbWV0aG9kIHRvIGNsb3NlIHRoZSBvZmZDYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGNsb3NlT2ZmQ2FudmFzKGNhbGxiYWNrKSB7XG4gICAgICAgIEFqYXhPZmZDYW52YXMuY2xvc2UoKTtcblxuICAgICAgICB0aGlzLmFqYXhNb2RhbEV4dGVuc2lvbiA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaXZhdGUgbWV0aG9kIHRvIGFwcGx5IGV2ZW50cyB0byB0aGUgY29va2llLWNvbmZpZ3VyYXRpb24gdGVtcGxhdGVcbiAgICAgKiBBbHNvIHNldHMgdGhlIGluaXRpYWwgY2hlY2tib3ggc3RhdGUgYmFzZWQgb24gY3VycmVudGx5IHNldCBjb29raWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbk9mZkNhbnZhc09wZW5lZChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9yZWdpc3Rlck9mZkNhbnZhc0V2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuYWpheE1vZGFsRXh0ZW5zaW9uID0gbmV3IEFqYXhNb2RhbEV4dGVuc2lvbihmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fc2V0SW5pdGlhbFN0YXRlKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oaWRlQ29va2llQmFyKCkge1xuICAgICAgICBjb25zdCBjb29raWVQZXJtaXNzaW9uUGx1Z2luID0gUGx1Z2luTWFuYWdlci5nZXRQbHVnaW5JbnN0YW5jZXMoJ0Nvb2tpZVBlcm1pc3Npb24nKTtcblxuICAgICAgICBpZiAoY29va2llUGVybWlzc2lvblBsdWdpbiAmJiBjb29raWVQZXJtaXNzaW9uUGx1Z2luWzBdKSB7XG4gICAgICAgICAgICBjb29raWVQZXJtaXNzaW9uUGx1Z2luWzBdLl9oaWRlQ29va2llQmFyKCk7XG4gICAgICAgICAgICBjb29raWVQZXJtaXNzaW9uUGx1Z2luWzBdLl9yZW1vdmVCb2R5UGFkZGluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgY29va2llIGNvbmZpZ3VyYXRpb24gYW5kIHByZXNlbGVjdCBjb2hlcmVudCBjaGVja2JveGVzXG4gICAgICogUmVxdWlyZWQgY29va2llcyBhcmUgYWxyZWFkeSBjaGVja2VkIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLl9nZXRPZmZDYW52YXMoKTtcbiAgICAgICAgY29uc3QgY29va2llcyA9IHRoaXMuX2dldENvb2tpZXMoJ2FsbCcpO1xuICAgICAgICBjb25zdCBhY3RpdmVDb29raWVzID0gW107XG4gICAgICAgIGNvbnN0IGluYWN0aXZlQ29va2llcyA9IFtdO1xuXG4gICAgICAgIGNvb2tpZXMuZm9yRWFjaCgoeyBjb29raWUsIHJlcXVpcmVkIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gQ29va2llU3RvcmFnZS5nZXRJdGVtKGNvb2tpZSk7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUgfHwgcmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDb29raWVzLnB1c2goY29va2llKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5hY3RpdmVDb29raWVzLnB1c2goY29va2llKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sYXN0U3RhdGUgPSB7XG4gICAgICAgICAgICBhY3RpdmU6IGFjdGl2ZUNvb2tpZXMsXG4gICAgICAgICAgICBpbmFjdGl2ZTogaW5hY3RpdmVDb29raWVzXG4gICAgICAgIH07XG5cbiAgICAgICAgYWN0aXZlQ29va2llcy5mb3JFYWNoKGFjdGl2ZUNvb2tpZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihgW2RhdGEtY29va2llPVwiJHthY3RpdmVDb29raWV9XCJdYCk7XG5cbiAgICAgICAgICAgIHRhcmdldC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ2hlY2tib3hFdmVudCh0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIGNsaWNrIHRhcmdldCwgdHJ5IHRvIGZpbmQgdGhlIGNvb2tpZSBncm91cCBjb250YWluZXIgYW5kIHRvZ2dsZSB0aGUgb3BlbiBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGFuZGxlV3JhcHBlclRyaWdnZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgeyBlbnRyaWVzQWN0aXZlQ2xhc3MsIGVudHJpZXNDbGFzcywgZ3JvdXBDbGFzcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG5cbiAgICAgICAgY29uc3QgY29va2llRW50cnlDb250YWluZXIgPSB0aGlzLl9maW5kUGFyZW50RWwodGFyZ2V0LCBlbnRyaWVzQ2xhc3MsIGdyb3VwQ2xhc3MpO1xuXG4gICAgICAgIGlmIChjb29raWVFbnRyeUNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gY29va2llRW50cnlDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGVudHJpZXNBY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBjb29raWVFbnRyeUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGVudHJpZXNBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvb2tpZUVudHJ5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoZW50cmllc0FjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSB0YXJnZXQgY2hlY2tib3ggaXMgYSBwYXJlbnQgb3IgYSBjaGlsZCBjaGVja2JveFxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGFuZGxlQ2hlY2tib3goZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBwYXJlbnRJbnB1dENsYXNzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcblxuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMocGFyZW50SW5wdXRDbGFzcykgPyB0aGlzLl9wYXJlbnRDaGVja2JveEV2ZW50IDogdGhpcy5fY2hpbGRDaGVja2JveEV2ZW50O1xuXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGFyZ2V0KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGNoZWNrcyB0aGUgcHJvdmlkZWQgZWxlbWVudHMgcGFyZW50IGZvciB0aGUgZmlyc3QgY2xhc3MgcGFyYW1ldGVyXG4gICAgICogU3RvcHMgdGhlIHJlY3Vyc2lvbiwgaWYgdGhlIHBhcmVudEVsZW1lbnQgY29udGFpbnMgdGhlIHNlY29uZCBjbGFzcyBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbFxuICAgICAqIEBwYXJhbSBmaW5kQ2xhc3NcbiAgICAgKiBAcGFyYW0gYWJvcnRDbGFzc1xuICAgICAqIEByZXR1cm5zIHsqfEhUTUxFbGVtZW50fCp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZFBhcmVudEVsKGVsLCBmaW5kQ2xhc3MsIGFib3J0Q2xhc3MgPSBudWxsKSB7XG4gICAgICAgIHdoaWxlKCEhZWwgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhhYm9ydENsYXNzKSkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhmaW5kQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgX2lzQ2hlY2tlZCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuICEhdGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGUtL3NlbGVjdCBhbGwgY2hlY2tib3hlcyBvZiB0aGUgY3VycmVudCBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BhcmVudENoZWNrYm94RXZlbnQodGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBDbGFzcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHRoaXMuX2lzQ2hlY2tlZCh0YXJnZXQpO1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX2ZpbmRQYXJlbnRFbCh0YXJnZXQsIGdyb3VwQ2xhc3MpO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZVdob2xlR3JvdXAobmV3U3RhdGUsIGdyb3VwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQgZm9yIHRoZSBcInNlbGVjdC1hbGxcIiBjaGVja2JveCBvZiB0aGUgY2hpbGRzIGdyb3VwXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2hpbGRDaGVja2JveEV2ZW50KHRhcmdldCkge1xuICAgICAgICBjb25zdCB7IGdyb3VwQ2xhc3MgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLl9pc0NoZWNrZWQodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9maW5kUGFyZW50RWwodGFyZ2V0LCBncm91cENsYXNzKTtcblxuICAgICAgICB0aGlzLl90b2dnbGVQYXJlbnRDaGVja2JveChuZXdTdGF0ZSwgZ3JvdXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvb2dsZSBlYWNoIGNoZWNrYm94IGluc2lkZSB0aGUgZ2l2ZW4gZ3JvdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZVxuICAgICAqIEBwYXJhbSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvZ2dsZVdob2xlR3JvdXAoc3RhdGUsIGdyb3VwKSB7XG4gICAgICAgIEFycmF5LmZyb20oZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gc3RhdGU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBhIGdyb3VwcyBcInNlbGVjdC1hbGxcIiBjaGVja2JveCBhY2NvcmRpbmcgdG8gY2hhbmdlcyB0byBpdHMgY2hpbGQgY2hlY2tib3hlc1xuICAgICAqIFwiQ2hlY2ssIGlmIGFueSBjaGlsZCBjaGVja2JveCBpcyBjaGVja2VkXCIgLyBcIlVuY2hlY2ssIGlmIG5vIGNoaWxkIGNoZWNrYm94ZXMgYXJlIGNoZWNrZWRcIlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlXG4gICAgICogQHBhcmFtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9nZ2xlUGFyZW50Q2hlY2tib3goc3RhdGUsIGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50SW5wdXRTZWxlY3RvciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjaGVja2JveGVzID0gQXJyYXkuZnJvbShncm91cC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dDpub3QoJHtwYXJlbnRJbnB1dFNlbGVjdG9yfSlgKSk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoZWNrYm94ZXMgPSBBcnJheS5mcm9tKGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoYGlucHV0Om5vdCgke3BhcmVudElucHV0U2VsZWN0b3J9KTpjaGVja2VkYCkpO1xuXG4gICAgICAgIGlmIChjaGVja2JveGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENoZWNrYm94ID0gZ3JvdXAucXVlcnlTZWxlY3RvcihwYXJlbnRJbnB1dFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKHBhcmVudENoZWNrYm94KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGFjdGl2ZUNoZWNrYm94ZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRldGVybWluYXRlID0gY2hlY2tlZCAmJiBhY3RpdmVDaGVja2JveGVzLmxlbmd0aCAhPT0gY2hlY2tib3hlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnRDaGVja2JveC5jaGVja2VkID0gY2hlY2tlZDtcbiAgICAgICAgICAgICAgICBwYXJlbnRDaGVja2JveC5pbmRldGVybWluYXRlID0gaW5kZXRlcm1pbmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRoZSAnU2F2ZScgYnV0dG9uIGluc2lkZSB0aGUgb2ZmQ2FudmFzXG4gICAgICpcbiAgICAgKiBSZW1vdmVzIHVuc2VsZWN0ZWQgY29va2llcywgaWYgYWxyZWFkeSBzZXRcbiAgICAgKiBTZXRzIG9yIHJlZnJlc2hlcyBzZWxlY3RlZCBjb29raWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oYW5kbGVTdWJtaXQoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvb2tpZXMgPSB0aGlzLl9nZXRDb29raWVzKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVDb29raWVzID0gdGhpcy5fZ2V0Q29va2llcygnaW5hY3RpdmUnKTtcbiAgICAgICAgY29uc3QgeyBjb29raWVQcmVmZXJlbmNlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgYWN0aXZlQ29va2llTmFtZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVDb29raWVOYW1lcyA9IFtdO1xuXG4gICAgICAgIGluYWN0aXZlQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSB9KSA9PiB7XG4gICAgICAgICAgICBpbmFjdGl2ZUNvb2tpZU5hbWVzLnB1c2goY29va2llKTtcblxuICAgICAgICAgICAgaWYgKENvb2tpZVN0b3JhZ2UuZ2V0SXRlbShjb29raWUpKSB7XG4gICAgICAgICAgICAgICAgQ29va2llU3RvcmFnZS5yZW1vdmVJdGVtKGNvb2tpZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb29raWVzIHdpdGhvdXQgdmFsdWUgYXJlIHBhc3NlZCB0byB0aGUgdXBkYXRlTGlzdGVuZXJcbiAgICAgICAgICogKCBzZWUgXCJfaGFuZGxlVXBkYXRlTGlzdGVuZXJcIiBtZXRob2QgKVxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZlQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24gfSkgPT4ge1xuICAgICAgICAgICAgYWN0aXZlQ29va2llTmFtZXMucHVzaChjb29raWUpO1xuXG4gICAgICAgICAgICBpZiAoY29va2llICYmIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgQ29va2llU3RvcmFnZS5zZXRJdGVtKGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBDb29raWVTdG9yYWdlLnNldEl0ZW0oY29va2llUHJlZmVyZW5jZSwgJzEnLCAnMzAnKTtcblxuICAgICAgICB0aGlzLl9oYW5kbGVVcGRhdGVMaXN0ZW5lcihhY3RpdmVDb29raWVOYW1lcywgaW5hY3RpdmVDb29raWVOYW1lcyk7XG4gICAgICAgIHRoaXMuY2xvc2VPZmZDYW52YXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciB0aGUgJ0FsbG93IGFsbCctYnV0dG9uIGluIHRoZSBvZmYgY2FudmFzIHZpZXcuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgc2V0IGFuZCByZWZyZXNoIGFsbCByZWdpc3RlcmVkIGNvb2tpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oYW5kbGVBY2NlcHRBbGwoKSB7XG4gICAgICAgIGNvbnN0IGFsbENvb2tpZXMgPSB0aGlzLl9nZXRDb29raWVzKCdhbGwnKTtcbiAgICAgICAgY29uc3QgeyBjb29raWVQcmVmZXJlbmNlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgYWxsQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24gfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvb2tpZSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIENvb2tpZVN0b3JhZ2Uuc2V0SXRlbShjb29raWUsIHZhbHVlLCBleHBpcmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgQ29va2llU3RvcmFnZS5zZXRJdGVtKGNvb2tpZVByZWZlcmVuY2UsICcxJywgJzMwJyk7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlVXBkYXRlTGlzdGVuZXIoYWxsQ29va2llcy5tYXAoKHsgY29va2llIH0pID0+IGNvb2tpZSksIFtdKTtcbiAgICAgICAgdGhpcy5jbG9zZU9mZkNhbnZhcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb29raWVzIHBhc3NlZCB0byB0aGUgY29uZmlndXJhdGlvbiB0ZW1wbGF0ZVxuICAgICAqIENhbiBiZSBmaWx0ZXJlZCBieSBcImFsbFwiLCBcImFjdGl2ZVwiIG9yIFwiaW5hY3RpdmVcIlxuICAgICAqXG4gICAgICogQWx3YXlzIGV4Y2x1ZGVzIFwicmVxdWlyZWRcIiBjb29raWVzLCBzaW5jZSB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIHNldCBzZXBhcmF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Q29va2llcyh0eXBlID0gJ2FsbCcpIHtcbiAgICAgICAgY29uc3QgeyBjb29raWVTZWxlY3RvciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLl9nZXRPZmZDYW52YXMoKTtcblxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShvZmZDYW52YXMucXVlcnlTZWxlY3RvckFsbChjb29raWVTZWxlY3RvcikpLmZpbHRlcihjb29raWVJbnB1dCA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhbGwnOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlICdhY3RpdmUnOiByZXR1cm4gdGhpcy5faXNDaGVja2VkKGNvb2tpZUlucHV0KTtcbiAgICAgICAgICAgICAgICBjYXNlICdpbmFjdGl2ZSc6IHJldHVybiAhdGhpcy5faXNDaGVja2VkKGNvb2tpZUlucHV0KTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLm1hcChmaWx0ZXJlZElucHV0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29va2llLCBjb29raWVWYWx1ZSwgY29va2llRXhwaXJhdGlvbiwgY29va2llUmVxdWlyZWQgfSA9IGZpbHRlcmVkSW5wdXQuZGF0YXNldDtcbiAgICAgICAgICAgIHJldHVybiB7IGNvb2tpZSwgdmFsdWU6IGNvb2tpZVZhbHVlLCBleHBpcmF0aW9uOiBjb29raWVFeHBpcmF0aW9uLCByZXF1aXJlZDogY29va2llUmVxdWlyZWQgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBvZmZjYW52YXMgZWxlbWVudCBpZiBhdmFpbGFibGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldE9mZkNhbnZhcygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBPZmZDYW52YXMgPyBPZmZDYW52YXMuZ2V0T2ZmQ2FudmFzKCkgOiBbXTtcblxuICAgICAgICByZXR1cm4gKGVsZW1lbnRzICYmIGVsZW1lbnRzLmxlbmd0aCA+IDApID8gZWxlbWVudHNbMF0gOiBmYWxzZTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBTUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQUtBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBT0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBTUE7QUFBQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBR0E7Ozs7Ozs7Ozs7Ozs7QUFVQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7O0FBUUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7O0FBVUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFFQTtBQUNBOzs7O0FBbGNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///t8WJ\n");

/***/ })

},[["Bys/","runtime","vendor-node","vendor-shared"]]]);