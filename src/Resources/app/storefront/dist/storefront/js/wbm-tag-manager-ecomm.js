(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["wbm-tag-manager-ecomm"],{

/***/ "Bys/":
/*!***************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/main.js ***!
  \***************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var src_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.manager */ \"Cxgn\");\n/* harmony import */ var _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plugin/datalayer.plugin */ \"ffMp\");\n/* harmony import */ var _plugin_productClickTracking_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin/productClickTracking.plugin */ \"VIO2\");\n/* harmony import */ var _plugin_promotions_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./plugin/promotions.plugin */ \"v0id\");\n/* harmony import */ var _listener_windowLoad_listener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./listener/windowLoad.listener */ \"Ugru\");\n/* harmony import */ var _service_http_client_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./service/http-client.service */ \"csG+\");\n/* harmony import */ var _subscriber_cookieConfigurationUpdate_subscriber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./subscriber/cookieConfigurationUpdate.subscriber */ \"Wh65\");\n/* eslint-disable import/no-unresolved */\n\n\n\n\n\n\n\nsrc_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register('WbmDataLayer', _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nsrc_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register('ProductClickTracking', _plugin_productClickTracking_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"], '.product-box a', {\n  parent: '.product-box'\n});\nsrc_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register('ProductClickTracking', _plugin_productClickTracking_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"], '.product-box button', {\n  parent: '.product-box'\n});\nsrc_plugin_system_plugin_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register('Promotions', _plugin_promotions_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"]); // Necessary for the webpack hot module reloading server\n\nif (false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnlzLy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9tYWluLmpzP2MwNTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLXVucmVzb2x2ZWQgKi9cbmltcG9ydCBQbHVnaW5NYW5hZ2VyIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5tYW5hZ2VyJztcbmltcG9ydCBXYm1EYXRhTGF5ZXIgZnJvbSBcIi4vcGx1Z2luL2RhdGFsYXllci5wbHVnaW5cIjtcbmltcG9ydCBQcm9kdWN0Q2xpY2tUcmFja2luZyBmcm9tICcuL3BsdWdpbi9wcm9kdWN0Q2xpY2tUcmFja2luZy5wbHVnaW4nO1xuaW1wb3J0IFByb21vdGlvbnMgZnJvbSAnLi9wbHVnaW4vcHJvbW90aW9ucy5wbHVnaW4nO1xuXG5pbXBvcnQgJy4vbGlzdGVuZXIvd2luZG93TG9hZC5saXN0ZW5lcic7XG5pbXBvcnQgJy4vc2VydmljZS9odHRwLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCAnLi9zdWJzY3JpYmVyL2Nvb2tpZUNvbmZpZ3VyYXRpb25VcGRhdGUuc3Vic2NyaWJlcic7XG5cblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ1dibURhdGFMYXllcicsIFdibURhdGFMYXllcik7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdQcm9kdWN0Q2xpY2tUcmFja2luZycsIFByb2R1Y3RDbGlja1RyYWNraW5nLCAnLnByb2R1Y3QtYm94IGEnLCB7IHBhcmVudDogJy5wcm9kdWN0LWJveCcgfSk7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdQcm9kdWN0Q2xpY2tUcmFja2luZycsIFByb2R1Y3RDbGlja1RyYWNraW5nLCAnLnByb2R1Y3QtYm94IGJ1dHRvbicsIHsgcGFyZW50OiAnLnByb2R1Y3QtYm94JyB9KTtcblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ1Byb21vdGlvbnMnLCBQcm9tb3Rpb25zKTtcblxuLy8gTmVjZXNzYXJ5IGZvciB0aGUgd2VicGFjayBob3QgbW9kdWxlIHJlbG9hZGluZyBzZXJ2ZXJcbmlmIChtb2R1bGUuaG90KSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///Bys/\n");

/***/ }),

/***/ "Ugru":
/*!***************************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/listener/windowLoad.listener.js ***!
  \***************************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../plugin/datalayer.plugin */ \"ffMp\");\n\n\nif (typeof onEventDataLayer !== 'undefined') {\n  window.addEventListener('load', function () {\n    _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"].push(onEventDataLayer);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVWdydS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9saXN0ZW5lci93aW5kb3dMb2FkLmxpc3RlbmVyLmpzPzYyNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdibURhdGFMYXllciBmcm9tICcuLi9wbHVnaW4vZGF0YWxheWVyLnBsdWdpbic7XG5cbmlmICh0eXBlb2Ygb25FdmVudERhdGFMYXllciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgV2JtRGF0YUxheWVyLnB1c2gob25FdmVudERhdGFMYXllcik7XG4gICAgfSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///Ugru\n");

/***/ }),

/***/ "VIO2":
/*!*********************************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/plugin/productClickTracking.plugin.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductClickTracking; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar ProductClickTracking = /*#__PURE__*/function (_Plugin) {\n  _inherits(ProductClickTracking, _Plugin);\n\n  function ProductClickTracking() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductClickTracking);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductClickTracking)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"impressions\", null);\n\n    return _this;\n  }\n\n  _createClass(ProductClickTracking, [{\n    key: \"init\",\n    value: function init() {\n      if (gtmIsTrackingProductClicks !== true) {\n        return;\n      }\n\n      this._registerEvents();\n    }\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents() {\n      var self = this;\n      this.el.addEventListener('click', function (event) {\n        self.onProductClicked(event);\n      });\n    }\n  }, {\n    key: \"_setImpressions\",\n    value: function _setImpressions() {\n      var dataLayer = [window.dataLayer];\n\n      if (typeof onEventDataLayer !== 'undefined') {\n        dataLayer.push(onEventDataLayer);\n      }\n\n      if (dataLayer) {\n        for (var i = 0; i < dataLayer.length; i++) {\n          for (var j = 0; j < dataLayer[i].length; j++) {\n            var layer = dataLayer[i][j];\n\n            if (layer.ecommerce && layer.ecommerce.impressions) {\n              this.impressions = layer.ecommerce.impressions;\n            }\n          }\n        }\n      }\n\n      if (this.impressions === null || this.impressions.length === 0) {\n        throw new InvalidImpressionsError('no impressions found');\n      }\n    }\n  }, {\n    key: \"onProductClicked\",\n    value: function onProductClicked(event) {\n      if (src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasAttribute(this.el, 'href')) {\n        event.preventDefault();\n      }\n\n      try {\n        this._setImpressions();\n\n        var product = this._getProduct();\n\n        window.dataLayer.push({\n          event: 'productClick',\n          ecommerce: {\n            click: {\n              actionField: {\n                list: product.list\n              },\n              products: [product]\n            }\n          }\n        });\n      } catch (e) {\n        console.log(e); // if something went wrong, just go on ...\n      }\n\n      if (this._shouldRedirect()) {\n        document.location = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttribute(this.el, 'href');\n      }\n    }\n  }, {\n    key: \"_getProduct\",\n    value: function _getProduct() {\n      var parent = this.el.closest(this.options.parent);\n      var inputField = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(parent, '[itemprop=\"sku\"]');\n      var productNo = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttribute(inputField, 'content');\n      var product = this.impressions.find(function (value, index) {\n        return value.id === productNo;\n      });\n\n      if (product === undefined) {\n        throw new InvalidImpressionsError('product not found in impressions');\n      }\n\n      return product;\n    }\n  }, {\n    key: \"_shouldRedirect\",\n    value: function _shouldRedirect() {\n      var redirect = false; // is there even a link?\n\n      if (src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasAttribute(this.el, 'href')) {\n        redirect = true;\n      } // enable quickview feature of SwagCmsExtension\n\n\n      if (this.el.closest(this.options.parent).parentElement.dataset.swagCmsExtensionsQuickviewBox) {\n        redirect = false;\n      }\n\n      return redirect;\n    }\n  }]);\n\n  return ProductClickTracking;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n\nvar InvalidImpressionsError = /*#__PURE__*/function (_Error) {\n  _inherits(InvalidImpressionsError, _Error);\n\n  function InvalidImpressionsError(message) {\n    var _this2;\n\n    _classCallCheck(this, InvalidImpressionsError);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(InvalidImpressionsError).call(this, message));\n    _this2.name = 'InvalidImpressionsError';\n    return _this2;\n  }\n\n  return InvalidImpressionsError;\n}(_wrapNativeSuper(Error));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVklPMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9wbHVnaW4vcHJvZHVjdENsaWNrVHJhY2tpbmcucGx1Z2luLmpzPzBiNDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsdWdpbiBmcm9tICdzcmMvcGx1Z2luLXN5c3RlbS9wbHVnaW4uY2xhc3MnO1xuaW1wb3J0IERvbUFjY2VzcyBmcm9tICdzcmMvaGVscGVyL2RvbS1hY2Nlc3MuaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdENsaWNrVHJhY2tpbmcgZXh0ZW5kcyBQbHVnaW4ge1xuICAgIGltcHJlc3Npb25zID0gbnVsbDtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmIChndG1Jc1RyYWNraW5nUHJvZHVjdENsaWNrcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgX3JlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5vblByb2R1Y3RDbGlja2VkKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3NldEltcHJlc3Npb25zKCkge1xuICAgICAgICBjb25zdCBkYXRhTGF5ZXIgPSBbXG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0eXBlb2Ygb25FdmVudERhdGFMYXllciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKG9uRXZlbnREYXRhTGF5ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGFMYXllcikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhTGF5ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGFMYXllcltpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IGRhdGFMYXllcltpXVtqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZWNvbW1lcmNlICYmIGxheWVyLmVjb21tZXJjZS5pbXByZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbXByZXNzaW9ucyA9IGxheWVyLmVjb21tZXJjZS5pbXByZXNzaW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmltcHJlc3Npb25zID09PSBudWxsIHx8IHRoaXMuaW1wcmVzc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEltcHJlc3Npb25zRXJyb3IoJ25vIGltcHJlc3Npb25zIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblByb2R1Y3RDbGlja2VkKGV2ZW50KSB7XG4gICAgICAgIGlmIChEb21BY2Nlc3MuaGFzQXR0cmlidXRlKHRoaXMuZWwsICdocmVmJykpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fc2V0SW1wcmVzc2lvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSB0aGlzLl9nZXRQcm9kdWN0KCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdwcm9kdWN0Q2xpY2snLFxuICAgICAgICAgICAgICAgIGVjb21tZXJjZToge1xuICAgICAgICAgICAgICAgICAgICBjbGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRmllbGQ6IHsgbGlzdDogcHJvZHVjdC5saXN0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogW3Byb2R1Y3RdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAvLyBpZiBzb21ldGhpbmcgd2VudCB3cm9uZywganVzdCBnbyBvbiAuLi5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRSZWRpcmVjdCgpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbiA9IERvbUFjY2Vzcy5nZXRBdHRyaWJ1dGUodGhpcy5lbCwgJ2hyZWYnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRQcm9kdWN0KCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmVsLmNsb3Nlc3QodGhpcy5vcHRpb25zLnBhcmVudCk7XG4gICAgICAgIGNvbnN0IGlucHV0RmllbGQgPSBEb21BY2Nlc3MucXVlcnlTZWxlY3RvcihwYXJlbnQsICdbaXRlbXByb3A9XCJza3VcIl0nKTtcbiAgICAgICAgY29uc3QgcHJvZHVjdE5vID0gRG9tQWNjZXNzLmdldEF0dHJpYnV0ZShpbnB1dEZpZWxkLCAnY29udGVudCcpO1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gdGhpcy5pbXByZXNzaW9ucy5maW5kKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5pZCA9PT0gcHJvZHVjdE5vO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocHJvZHVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEltcHJlc3Npb25zRXJyb3IoJ3Byb2R1Y3Qgbm90IGZvdW5kIGluIGltcHJlc3Npb25zJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvZHVjdFxuICAgIH1cblxuICAgIF9zaG91bGRSZWRpcmVjdCgpIHtcbiAgICAgICAgbGV0IHJlZGlyZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gaXMgdGhlcmUgZXZlbiBhIGxpbms/XG4gICAgICAgIGlmIChEb21BY2Nlc3MuaGFzQXR0cmlidXRlKHRoaXMuZWwsICdocmVmJykpIHtcbiAgICAgICAgICAgIHJlZGlyZWN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbmFibGUgcXVpY2t2aWV3IGZlYXR1cmUgb2YgU3dhZ0Ntc0V4dGVuc2lvblxuICAgICAgICBpZiAodGhpcy5lbC5jbG9zZXN0KHRoaXMub3B0aW9ucy5wYXJlbnQpLnBhcmVudEVsZW1lbnQuZGF0YXNldC5zd2FnQ21zRXh0ZW5zaW9uc1F1aWNrdmlld0JveCkge1xuICAgICAgICAgICAgcmVkaXJlY3QgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9XG59XG5cbmNsYXNzIEludmFsaWRJbXByZXNzaW9uc0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnZhbGlkSW1wcmVzc2lvbnNFcnJvcic7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFEQTtBQUZBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQWxHQTtBQUNBO0FBREE7QUFDQTtBQW9HQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7O0FBTEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///VIO2\n");

/***/ }),

/***/ "Wh65":
/*!**********************************************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/subscriber/cookieConfigurationUpdate.subscriber.js ***!
  \**********************************************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var src_plugin_cookie_cookie_configuration_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin/cookie/cookie-configuration.plugin */ \"t8WJ\");\n\n\nfunction eventCallback(updatedCookies) {\n  if (typeof updatedCookies.detail['wbm-tagmanager-enabled'] !== 'undefined' && updatedCookies.detail['wbm-tagmanager-enabled'] && !window.wbmScriptIsSet) {\n    var newScript = document.createElement('script');\n    var inlineScript = document.createTextNode(\"(\".concat(window.googleTag, \")(window,document,'script','dataLayer', '\").concat(window.wbmGoogleTagmanagerId, \"');\"));\n    newScript.appendChild(inlineScript);\n    var script = document.getElementById('wbmTagManger');\n    script.parentNode.insertBefore(newScript, script.nextSibling);\n    window.wbmScriptIsSet = true;\n    window.googleTag = null;\n  }\n}\n\ndocument.$emitter.subscribe(src_plugin_cookie_cookie_configuration_plugin__WEBPACK_IMPORTED_MODULE_0__[\"COOKIE_CONFIGURATION_UPDATE\"], eventCallback);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2g2NS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9zdWJzY3JpYmVyL2Nvb2tpZUNvbmZpZ3VyYXRpb25VcGRhdGUuc3Vic2NyaWJlci5qcz9jYjYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENPT0tJRV9DT05GSUdVUkFUSU9OX1VQREFURSB9IGZyb20gJ3NyYy9wbHVnaW4vY29va2llL2Nvb2tpZS1jb25maWd1cmF0aW9uLnBsdWdpbic7XG5cbmZ1bmN0aW9uIGV2ZW50Q2FsbGJhY2sodXBkYXRlZENvb2tpZXMpIHtcbiAgICBpZiAodHlwZW9mIHVwZGF0ZWRDb29raWVzLmRldGFpbFsnd2JtLXRhZ21hbmFnZXItZW5hYmxlZCddICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAmJiB1cGRhdGVkQ29va2llcy5kZXRhaWxbJ3dibS10YWdtYW5hZ2VyLWVuYWJsZWQnXVxuICAgICAgICAmJiAhd2luZG93LndibVNjcmlwdElzU2V0XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBjb25zdCBpbmxpbmVTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICAgIGAoJHt3aW5kb3cuZ29vZ2xlVGFnfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCdkYXRhTGF5ZXInLCAnJHt3aW5kb3cud2JtR29vZ2xlVGFnbWFuYWdlcklkfScpO2BcbiAgICAgICAgKTtcbiAgICAgICAgbmV3U2NyaXB0LmFwcGVuZENoaWxkKGlubGluZVNjcmlwdCk7XG5cbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dibVRhZ01hbmdlcicpO1xuICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3U2NyaXB0LCBzY3JpcHQubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIHdpbmRvdy53Ym1TY3JpcHRJc1NldCA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5nb29nbGVUYWcgPSBudWxsO1xuICAgIH1cbn1cbmRvY3VtZW50LiRlbWl0dGVyLnN1YnNjcmliZShDT09LSUVfQ09ORklHVVJBVElPTl9VUERBVEUsIGV2ZW50Q2FsbGJhY2spO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///Wh65\n");

/***/ }),

/***/ "bK22":
/*!**********************************************!*\
  !*** ./plugin/offcanvas/offcanvas.plugin.js ***!
  \**********************************************/
/*! exports provided: OffCanvasInstance, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OffCanvasInstance\", function() { return OffCanvasInstance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OffCanvas; });\n/* harmony import */ var src_helper_device_detection_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/helper/device-detection.helper */ \"41MI\");\n/* harmony import */ var src_helper_emitter_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/emitter.helper */ \"+F6M\");\n/* harmony import */ var src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utility/backdrop/backdrop.util */ \"KeF5\");\n/* harmony import */ var src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/helper/iterator.helper */ \"ERap\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar OFF_CANVAS_CLASS = 'offcanvas';\nvar OFF_CANVAS_OPEN_CLASS = 'is-open';\nvar OFF_CANVAS_FULLWIDTH_CLASS = 'is-fullwidth';\nvar OFF_CANVAS_CLOSE_TRIGGER_CLASS = 'js-offcanvas-close';\nvar _REMOVE_OFF_CANVAS_DELAY = 350;\n\nvar OffCanvasSingleton = /*#__PURE__*/function () {\n  function OffCanvasSingleton() {\n    _classCallCheck(this, OffCanvasSingleton);\n\n    this.$emitter = new src_helper_emitter_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  /**\n   * Open the offcanvas and its backdrop\n   * @param {string} content\n   * @param {function|null} callback\n   * @param {'left'|'right'|'bottom'} position\n   * @param {boolean} closable\n   * @param {number} delay\n   * @param {boolean} fullwidth\n   * @param {array|string} cssClass\n   */\n\n\n  _createClass(OffCanvasSingleton, [{\n    key: \"open\",\n    value: function open(content, callback, position, closable, delay, fullwidth, cssClass) {\n      // avoid multiple backdrops\n      this._removeExistingOffCanvas();\n\n      var offCanvas = this._createOffCanvas(position, fullwidth, cssClass);\n\n      this.setContent(content, closable, delay);\n\n      this._openOffcanvas(offCanvas, callback);\n    }\n    /**\n     * Method to change the content of the already visible OffCanvas\n     * @param {string} content\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(content, closable, delay) {\n      var offCanvas = this.getOffCanvas();\n\n      if (!offCanvas[0]) {\n        return;\n      }\n\n      offCanvas[0].innerHTML = content; //register events again\n\n      this._registerEvents(closable, delay);\n    }\n    /**\n     * adds an additional class to the offcanvas\n     *\n     * @param {string} className\n     */\n\n  }, {\n    key: \"setAdditionalClassName\",\n    value: function setAdditionalClassName(className) {\n      var offCanvas = this.getOffCanvas();\n      offCanvas[0].classList.add(className);\n    }\n    /**\n     * Determine list of existing offcanvas\n     * @returns {NodeListOf<Element>}\n     * @private\n     */\n\n  }, {\n    key: \"getOffCanvas\",\n    value: function getOffCanvas() {\n      return document.querySelectorAll(\".\".concat(OFF_CANVAS_CLASS));\n    }\n    /**\n     * Close the offcanvas and its backdrop when the browser goes back in history\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(delay) {\n      var _this = this;\n\n      // remove open class to make any css animation effects possible\n      var OffCanvasElements = this.getOffCanvas();\n      src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(OffCanvasElements, function (backdrop) {\n        return backdrop.classList.remove(OFF_CANVAS_OPEN_CLASS);\n      }); // wait before removing backdrop to let css animation effects take place\n\n      setTimeout(this._removeExistingOffCanvas.bind(this), delay);\n      src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(delay);\n      setTimeout(function () {\n        _this.$emitter.publish('onCloseOffcanvas', {\n          offCanvasContent: OffCanvasElements\n        });\n      }, delay);\n    }\n    /**\n     * Callback for close button, goes back in browser history to trigger close\n     * @returns {void}\n     */\n\n  }, {\n    key: \"goBackInHistory\",\n    value: function goBackInHistory() {\n      window.history.back();\n    }\n    /**\n     * Returns whether any OffCanvas exists or not\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      return this.getOffCanvas().length > 0;\n    }\n    /**\n     * Opens the offcanvas and its backdrop\n     *\n     * @param {HTMLElement} offCanvas\n     * @param {function} callback\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_openOffcanvas\",\n    value: function _openOffcanvas(offCanvas, callback) {\n      // the timeout allows to apply the animation effects\n      setTimeout(function () {\n        src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(function () {\n          offCanvas.classList.add(OFF_CANVAS_OPEN_CLASS);\n          window.history.pushState('offcanvas-open', ''); // if a callback function is being injected execute it after opening the OffCanvas\n\n          if (typeof callback === 'function') {\n            callback();\n          }\n        });\n      }, 75);\n    }\n    /**\n     * Register events\n     * @param {boolean} closable\n     * @param {number} delay\n     * @private\n     */\n\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents(closable, delay) {\n      var _this2 = this;\n\n      var event = src_helper_device_detection_helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isTouchDevice() ? 'touchstart' : 'click';\n\n      if (closable) {\n        var onBackdropClick = function onBackdropClick() {\n          _this2.close(delay); // remove the event listener immediately to avoid multiple listeners\n\n\n          document.removeEventListener(src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"BACKDROP_EVENT\"].ON_CLICK, onBackdropClick);\n        };\n\n        document.addEventListener(src_utility_backdrop_backdrop_util__WEBPACK_IMPORTED_MODULE_2__[\"BACKDROP_EVENT\"].ON_CLICK, onBackdropClick);\n      }\n\n      window.addEventListener('popstate', this.close.bind(this, delay), {\n        once: true\n      });\n      var closeTriggers = document.querySelectorAll(\".\".concat(OFF_CANVAS_CLOSE_TRIGGER_CLASS));\n      src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(closeTriggers, function (trigger) {\n        return trigger.addEventListener(event, _this2.close.bind(_this2, delay));\n      });\n    }\n    /**\n     * Remove all existing offcanvas from DOM\n     * @private\n     */\n\n  }, {\n    key: \"_removeExistingOffCanvas\",\n    value: function _removeExistingOffCanvas() {\n      var offCanvasElements = this.getOffCanvas();\n      return src_helper_iterator_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].iterate(offCanvasElements, function (offCanvas) {\n        return offCanvas.remove();\n      });\n    }\n    /**\n     * Defines the position of the offcanvas by setting css class\n     * @param {'left'|'right'|'bottom'} position\n     * @returns {string}\n     * @private\n     */\n\n  }, {\n    key: \"_getPositionClass\",\n    value: function _getPositionClass(position) {\n      return \"is-\".concat(position);\n    }\n    /**\n     * Creates the offcanvas element prototype including all relevant settings,\n     * appends it to the DOM and returns the HTMLElement for further processing\n     * @param {'left'|'right'|'bottom'} position\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     * @returns {HTMLElement}\n     * @private\n     */\n\n  }, {\n    key: \"_createOffCanvas\",\n    value: function _createOffCanvas(position, fullwidth, cssClass) {\n      var offCanvas = document.createElement('div');\n      offCanvas.classList.add(OFF_CANVAS_CLASS);\n      offCanvas.classList.add(this._getPositionClass(position));\n\n      if (fullwidth === true) {\n        offCanvas.classList.add(OFF_CANVAS_FULLWIDTH_CLASS);\n      }\n\n      if (cssClass) {\n        var type = _typeof(cssClass);\n\n        if (type === 'string') {\n          offCanvas.classList.add(cssClass);\n        } else if (Array.isArray(cssClass)) {\n          cssClass.forEach(function (value) {\n            offCanvas.classList.add(value);\n          });\n        } else {\n          throw new Error(\"The type \\\"\".concat(type, \"\\\" is not supported. Please pass an array or a string.\"));\n        }\n      }\n\n      document.body.appendChild(offCanvas);\n      return offCanvas;\n    }\n  }]);\n\n  return OffCanvasSingleton;\n}();\n/**\n * Create the OffCanvas instance.\n * @type {Readonly<OffCanvasSingleton>}\n */\n\n\nvar OffCanvasInstance = Object.freeze(new OffCanvasSingleton());\n\nvar OffCanvas = /*#__PURE__*/function () {\n  function OffCanvas() {\n    _classCallCheck(this, OffCanvas);\n  }\n\n  _createClass(OffCanvas, null, [{\n    key: \"open\",\n\n    /**\n     * Open the OffCanvas\n     * @param {string} content\n     * @param {function|null} callback\n     * @param {'left'|'right'|'bottom'} position\n     * @param {boolean} closable\n     * @param {number} delay\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     */\n    value: function open(content) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'left';\n      var closable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var delay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _REMOVE_OFF_CANVAS_DELAY;\n      var fullwidth = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      var cssClass = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : '';\n      OffCanvasInstance.open(content, callback, position, closable, delay, fullwidth, cssClass);\n    }\n    /**\n     * Change content of visible OffCanvas\n     * @param {string} content\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(content) {\n      var closable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _REMOVE_OFF_CANVAS_DELAY;\n      OffCanvasInstance.setContent(content, closable, delay);\n    }\n    /**\n     * adds an additional class to the offcanvas\n     *\n     * @param {string} className\n     */\n\n  }, {\n    key: \"setAdditionalClassName\",\n    value: function setAdditionalClassName(className) {\n      OffCanvasInstance.setAdditionalClassName(className);\n    }\n    /**\n     * Close the OffCanvas\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _REMOVE_OFF_CANVAS_DELAY;\n      OffCanvasInstance.close(delay);\n    }\n    /**\n     * Returns whether any OffCanvas exists or not\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      return OffCanvasInstance.exists();\n    }\n    /**\n     * returns all existing offcanvas elements\n     *\n     * @returns {NodeListOf<Element>}\n     */\n\n  }, {\n    key: \"getOffCanvas\",\n    value: function getOffCanvas() {\n      return OffCanvasInstance.getOffCanvas();\n    }\n    /**\n     * Expose constant\n     * @returns {number}\n     */\n\n  }, {\n    key: \"REMOVE_OFF_CANVAS_DELAY\",\n    value: function REMOVE_OFF_CANVAS_DELAY() {\n      return _REMOVE_OFF_CANVAS_DELAY;\n    }\n  }]);\n\n  return OffCanvas;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYksyMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9vZmZjYW52YXMvb2ZmY2FudmFzLnBsdWdpbi5qcz82Y2FkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZXZpY2VEZXRlY3Rpb24gZnJvbSAnc3JjL2hlbHBlci9kZXZpY2UtZGV0ZWN0aW9uLmhlbHBlcic7XG5pbXBvcnQgTmF0aXZlRXZlbnRFbWl0dGVyIGZyb20gJ3NyYy9oZWxwZXIvZW1pdHRlci5oZWxwZXInO1xuaW1wb3J0IEJhY2tkcm9wLCB7IEJBQ0tEUk9QX0VWRU5UIH0gZnJvbSAnc3JjL3V0aWxpdHkvYmFja2Ryb3AvYmFja2Ryb3AudXRpbCc7XG5pbXBvcnQgSXRlcmF0b3IgZnJvbSAnc3JjL2hlbHBlci9pdGVyYXRvci5oZWxwZXInO1xuXG5jb25zdCBPRkZfQ0FOVkFTX0NMQVNTID0gJ29mZmNhbnZhcyc7XG5jb25zdCBPRkZfQ0FOVkFTX09QRU5fQ0xBU1MgPSAnaXMtb3Blbic7XG5jb25zdCBPRkZfQ0FOVkFTX0ZVTExXSURUSF9DTEFTUyA9ICdpcy1mdWxsd2lkdGgnO1xuY29uc3QgT0ZGX0NBTlZBU19DTE9TRV9UUklHR0VSX0NMQVNTID0gJ2pzLW9mZmNhbnZhcy1jbG9zZSc7XG5jb25zdCBSRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSA9IDM1MDtcblxuY2xhc3MgT2ZmQ2FudmFzU2luZ2xldG9uIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiRlbWl0dGVyID0gbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIG9mZmNhbnZhcyBhbmQgaXRzIGJhY2tkcm9wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufG51bGx9IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsnbGVmdCd8J3JpZ2h0J3wnYm90dG9tJ30gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBmdWxsd2lkdGhcbiAgICAgKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gY3NzQ2xhc3NcbiAgICAgKi9cbiAgICBvcGVuKGNvbnRlbnQsIGNhbGxiYWNrLCBwb3NpdGlvbiwgY2xvc2FibGUsIGRlbGF5LCBmdWxsd2lkdGgsIGNzc0NsYXNzKSB7XG4gICAgICAgIC8vIGF2b2lkIG11bHRpcGxlIGJhY2tkcm9wc1xuICAgICAgICB0aGlzLl9yZW1vdmVFeGlzdGluZ09mZkNhbnZhcygpO1xuXG4gICAgICAgIGNvbnN0IG9mZkNhbnZhcyA9IHRoaXMuX2NyZWF0ZU9mZkNhbnZhcyhwb3NpdGlvbiwgZnVsbHdpZHRoLCBjc3NDbGFzcyk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudChjb250ZW50LCBjbG9zYWJsZSwgZGVsYXkpO1xuICAgICAgICB0aGlzLl9vcGVuT2ZmY2FudmFzKG9mZkNhbnZhcywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjaGFuZ2UgdGhlIGNvbnRlbnQgb2YgdGhlIGFscmVhZHkgdmlzaWJsZSBPZmZDYW52YXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2FibGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKi9cbiAgICBzZXRDb250ZW50KGNvbnRlbnQsIGNsb3NhYmxlLCBkZWxheSkge1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLmdldE9mZkNhbnZhcygpO1xuXG4gICAgICAgIGlmICghb2ZmQ2FudmFzWzBdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvZmZDYW52YXNbMF0uaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgICAgICAvL3JlZ2lzdGVyIGV2ZW50cyBhZ2FpblxuICAgICAgICB0aGlzLl9yZWdpc3RlckV2ZW50cyhjbG9zYWJsZSwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZHMgYW4gYWRkaXRpb25hbCBjbGFzcyB0byB0aGUgb2ZmY2FudmFzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAgICovXG4gICAgc2V0QWRkaXRpb25hbENsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3Qgb2ZmQ2FudmFzID0gdGhpcy5nZXRPZmZDYW52YXMoKTtcbiAgICAgICAgb2ZmQ2FudmFzWzBdLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgbGlzdCBvZiBleGlzdGluZyBvZmZjYW52YXNcbiAgICAgKiBAcmV0dXJucyB7Tm9kZUxpc3RPZjxFbGVtZW50Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldE9mZkNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke09GRl9DQU5WQVNfQ0xBU1N9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIG9mZmNhbnZhcyBhbmQgaXRzIGJhY2tkcm9wIHdoZW4gdGhlIGJyb3dzZXIgZ29lcyBiYWNrIGluIGhpc3RvcnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKi9cbiAgICBjbG9zZShkZWxheSkge1xuICAgICAgICAvLyByZW1vdmUgb3BlbiBjbGFzcyB0byBtYWtlIGFueSBjc3MgYW5pbWF0aW9uIGVmZmVjdHMgcG9zc2libGVcbiAgICAgICAgY29uc3QgT2ZmQ2FudmFzRWxlbWVudHMgPSB0aGlzLmdldE9mZkNhbnZhcygpO1xuICAgICAgICBJdGVyYXRvci5pdGVyYXRlKE9mZkNhbnZhc0VsZW1lbnRzLCBiYWNrZHJvcCA9PiBiYWNrZHJvcC5jbGFzc0xpc3QucmVtb3ZlKE9GRl9DQU5WQVNfT1BFTl9DTEFTUykpO1xuXG4gICAgICAgIC8vIHdhaXQgYmVmb3JlIHJlbW92aW5nIGJhY2tkcm9wIHRvIGxldCBjc3MgYW5pbWF0aW9uIGVmZmVjdHMgdGFrZSBwbGFjZVxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX3JlbW92ZUV4aXN0aW5nT2ZmQ2FudmFzLmJpbmQodGhpcyksIGRlbGF5KTtcblxuICAgICAgICBCYWNrZHJvcC5yZW1vdmUoZGVsYXkpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5wdWJsaXNoKCdvbkNsb3NlT2ZmY2FudmFzJywge1xuICAgICAgICAgICAgICAgIG9mZkNhbnZhc0NvbnRlbnQ6IE9mZkNhbnZhc0VsZW1lbnRzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBmb3IgY2xvc2UgYnV0dG9uLCBnb2VzIGJhY2sgaW4gYnJvd3NlciBoaXN0b3J5IHRvIHRyaWdnZXIgY2xvc2VcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBnb0JhY2tJbkhpc3RvcnkoKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYW55IE9mZkNhbnZhcyBleGlzdHMgb3Igbm90XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZ2V0T2ZmQ2FudmFzKCkubGVuZ3RoID4gMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIG9mZmNhbnZhcyBhbmQgaXRzIGJhY2tkcm9wXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBvZmZDYW52YXNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb3Blbk9mZmNhbnZhcyhvZmZDYW52YXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHRoZSB0aW1lb3V0IGFsbG93cyB0byBhcHBseSB0aGUgYW5pbWF0aW9uIGVmZmVjdHNcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBCYWNrZHJvcC5jcmVhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKE9GRl9DQU5WQVNfT1BFTl9DTEFTUyk7XG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCdvZmZjYW52YXMtb3BlbicsICcnKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgYmVpbmcgaW5qZWN0ZWQgZXhlY3V0ZSBpdCBhZnRlciBvcGVuaW5nIHRoZSBPZmZDYW52YXNcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDc1KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBldmVudHNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJFdmVudHMoY2xvc2FibGUsIGRlbGF5KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gKERldmljZURldGVjdGlvbi5pc1RvdWNoRGV2aWNlKCkpID8gJ3RvdWNoc3RhcnQnIDogJ2NsaWNrJztcblxuICAgICAgICBpZiAoY2xvc2FibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uQmFja2Ryb3BDbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKGRlbGF5KTtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIGltbWVkaWF0ZWx5IHRvIGF2b2lkIG11bHRpcGxlIGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoQkFDS0RST1BfRVZFTlQuT05fQ0xJQ0ssIG9uQmFja2Ryb3BDbGljayk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEJBQ0tEUk9QX0VWRU5ULk9OX0NMSUNLLCBvbkJhY2tkcm9wQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMsIGRlbGF5KSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCBjbG9zZVRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7T0ZGX0NBTlZBU19DTE9TRV9UUklHR0VSX0NMQVNTfWApO1xuICAgICAgICBJdGVyYXRvci5pdGVyYXRlKGNsb3NlVHJpZ2dlcnMsIHRyaWdnZXIgPT4gdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmNsb3NlLmJpbmQodGhpcywgZGVsYXkpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBleGlzdGluZyBvZmZjYW52YXMgZnJvbSBET01cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVFeGlzdGluZ09mZkNhbnZhcygpIHtcbiAgICAgICAgY29uc3Qgb2ZmQ2FudmFzRWxlbWVudHMgPSB0aGlzLmdldE9mZkNhbnZhcygpO1xuICAgICAgICByZXR1cm4gSXRlcmF0b3IuaXRlcmF0ZShvZmZDYW52YXNFbGVtZW50cywgb2ZmQ2FudmFzID0+IG9mZkNhbnZhcy5yZW1vdmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcG9zaXRpb24gb2YgdGhlIG9mZmNhbnZhcyBieSBzZXR0aW5nIGNzcyBjbGFzc1xuICAgICAqIEBwYXJhbSB7J2xlZnQnfCdyaWdodCd8J2JvdHRvbSd9IHBvc2l0aW9uXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRQb3NpdGlvbkNsYXNzKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBgaXMtJHtwb3NpdGlvbn1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIG9mZmNhbnZhcyBlbGVtZW50IHByb3RvdHlwZSBpbmNsdWRpbmcgYWxsIHJlbGV2YW50IHNldHRpbmdzLFxuICAgICAqIGFwcGVuZHMgaXQgdG8gdGhlIERPTSBhbmQgcmV0dXJucyB0aGUgSFRNTEVsZW1lbnQgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZ1xuICAgICAqIEBwYXJhbSB7J2xlZnQnfCdyaWdodCd8J2JvdHRvbSd9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmdWxsd2lkdGhcbiAgICAgKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gY3NzQ2xhc3NcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlT2ZmQ2FudmFzKHBvc2l0aW9uLCBmdWxsd2lkdGgsIGNzc0NsYXNzKSB7XG4gICAgICAgIGNvbnN0IG9mZkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvZmZDYW52YXMuY2xhc3NMaXN0LmFkZChPRkZfQ0FOVkFTX0NMQVNTKTtcbiAgICAgICAgb2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQodGhpcy5fZ2V0UG9zaXRpb25DbGFzcyhwb3NpdGlvbikpO1xuXG4gICAgICAgIGlmIChmdWxsd2lkdGggPT09IHRydWUpIHtcbiAgICAgICAgICAgIG9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKE9GRl9DQU5WQVNfRlVMTFdJRFRIX0NMQVNTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjc3NDbGFzcykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBjc3NDbGFzcztcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgb2ZmQ2FudmFzLmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNzc0NsYXNzKSkge1xuICAgICAgICAgICAgICAgIGNzc0NsYXNzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9mZkNhbnZhcy5jbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdHlwZSBcIiR7dHlwZX1cIiBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgcGFzcyBhbiBhcnJheSBvciBhIHN0cmluZy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob2ZmQ2FudmFzKTtcblxuICAgICAgICByZXR1cm4gb2ZmQ2FudmFzO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIENyZWF0ZSB0aGUgT2ZmQ2FudmFzIGluc3RhbmNlLlxuICogQHR5cGUge1JlYWRvbmx5PE9mZkNhbnZhc1NpbmdsZXRvbj59XG4gKi9cbmV4cG9ydCBjb25zdCBPZmZDYW52YXNJbnN0YW5jZSA9IE9iamVjdC5mcmVlemUobmV3IE9mZkNhbnZhc1NpbmdsZXRvbigpKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2ZmQ2FudmFzIHtcblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIE9mZkNhbnZhc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbnxudWxsfSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7J2xlZnQnfCdyaWdodCd8J2JvdHRvbSd9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zYWJsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZnVsbHdpZHRoXG4gICAgICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGNzc0NsYXNzXG4gICAgICovXG4gICAgc3RhdGljIG9wZW4oY29udGVudCwgY2FsbGJhY2sgPSBudWxsLCBwb3NpdGlvbiA9ICdsZWZ0JywgY2xvc2FibGUgPSB0cnVlLCBkZWxheSA9IFJFTU9WRV9PRkZfQ0FOVkFTX0RFTEFZLCBmdWxsd2lkdGggPSBmYWxzZSwgY3NzQ2xhc3MgPSAnJykge1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5vcGVuKGNvbnRlbnQsIGNhbGxiYWNrLCBwb3NpdGlvbiwgY2xvc2FibGUsIGRlbGF5LCBmdWxsd2lkdGgsIGNzc0NsYXNzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgY29udGVudCBvZiB2aXNpYmxlIE9mZkNhbnZhc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zYWJsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRDb250ZW50KGNvbnRlbnQsIGNsb3NhYmxlID0gdHJ1ZSwgZGVsYXkgPSBSRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSkge1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5zZXRDb250ZW50KGNvbnRlbnQsIGNsb3NhYmxlLCBkZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYWRkcyBhbiBhZGRpdGlvbmFsIGNsYXNzIHRvIHRoZSBvZmZjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0QWRkaXRpb25hbENsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICAgICAgT2ZmQ2FudmFzSW5zdGFuY2Uuc2V0QWRkaXRpb25hbENsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBPZmZDYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgY2xvc2UoZGVsYXkgPSBSRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSkge1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5jbG9zZShkZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGFueSBPZmZDYW52YXMgZXhpc3RzIG9yIG5vdFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBleGlzdHMoKSB7XG4gICAgICAgIHJldHVybiBPZmZDYW52YXNJbnN0YW5jZS5leGlzdHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGFsbCBleGlzdGluZyBvZmZjYW52YXMgZWxlbWVudHNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOb2RlTGlzdE9mPEVsZW1lbnQ+fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRPZmZDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiBPZmZDYW52YXNJbnN0YW5jZS5nZXRPZmZDYW52YXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgY29uc3RhbnRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyBSRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSgpIHtcbiAgICAgICAgcmV0dXJuIFJFTU9WRV9PRkZfQ0FOVkFTX0RFTEFZO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBOzs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///bK22\n");

/***/ }),

/***/ "csG+":
/*!**************************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/service/http-client.service.js ***!
  \**************************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var src_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/service/http-client.service */ \"k8s9\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../plugin/datalayer.plugin */ \"ffMp\");\n\n\n\nvar __superFunc = src_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype._registerOnLoaded;\n\nsrc_service_http_client_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype._registerOnLoaded = function (request, callback) {\n  __superFunc.call(this, request, callback);\n\n  request.addEventListener('loadend', function () {\n    if (!window.hasOwnProperty('dataLayer')) {\n      return;\n    }\n\n    var response = request.responseText;\n    var domParser = new DOMParser();\n    var parsedResponse = domParser.parseFromString(response, 'text/html');\n    var element = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(parsedResponse, '#wbm-data-layer', false);\n\n    if (element && window.dataLayer) {\n      var dataLayers = JSON.parse(element.innerHTML);\n\n      for (var key in dataLayers) {\n        if (!dataLayers.hasOwnProperty(key)) {\n          continue;\n        }\n\n        var dataLayer = JSON.parse(dataLayers[key]);\n\n        if (key === 'default') {\n          window.dataLayer.push(dataLayer);\n        } else {\n          _plugin_datalayer_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"].push(dataLayer);\n        }\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3NHKy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9zZXJ2aWNlL2h0dHAtY2xpZW50LnNlcnZpY2UuanM/NWQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSHR0cENsaWVudCBmcm9tICdzcmMvc2VydmljZS9odHRwLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCBEb21BY2Nlc3MgZnJvbSAnc3JjL2hlbHBlci9kb20tYWNjZXNzLmhlbHBlcic7XG5pbXBvcnQgV2JtRGF0YUxheWVyIGZyb20gJy4uL3BsdWdpbi9kYXRhbGF5ZXIucGx1Z2luJztcblxuY29uc3QgX19zdXBlckZ1bmMgPSBIdHRwQ2xpZW50LnByb3RvdHlwZS5fcmVnaXN0ZXJPbkxvYWRlZDtcbkh0dHBDbGllbnQucHJvdG90eXBlLl9yZWdpc3Rlck9uTG9hZGVkID0gZnVuY3Rpb24gKHJlcXVlc3QsIGNhbGxiYWNrKSB7XG4gICAgX19zdXBlckZ1bmMuY2FsbCh0aGlzLCByZXF1ZXN0LCBjYWxsYmFjayk7XG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgKCkgPT4ge1xuICAgICAgICBpZiAoIXdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnZGF0YUxheWVyJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNwb25zZSA9IHJlcXVlc3QucmVzcG9uc2VUZXh0O1xuICAgICAgICB2YXIgZG9tUGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICB2YXIgcGFyc2VkUmVzcG9uc2UgPSBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLCAndGV4dC9odG1sJyk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gRG9tQWNjZXNzLnF1ZXJ5U2VsZWN0b3IocGFyc2VkUmVzcG9uc2UsICcjd2JtLWRhdGEtbGF5ZXInLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgd2luZG93LmRhdGFMYXllcikge1xuICAgICAgICAgICAgY29uc3QgZGF0YUxheWVycyA9IEpTT04ucGFyc2UoZWxlbWVudC5pbm5lckhUTUwpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YUxheWVycykge1xuICAgICAgICAgICAgICAgIGlmICghZGF0YUxheWVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBkYXRhTGF5ZXIgPSBKU09OLnBhcnNlKGRhdGFMYXllcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaChkYXRhTGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFdibURhdGFMYXllci5wdXNoKGRhdGFMYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///csG+\n");

/***/ }),

/***/ "ffMp":
/*!**********************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/plugin/datalayer.plugin.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WbmDataLayer; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar WbmDataLayer = /*#__PURE__*/function (_Plugin) {\n  _inherits(WbmDataLayer, _Plugin);\n\n  function WbmDataLayer() {\n    _classCallCheck(this, WbmDataLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(WbmDataLayer).apply(this, arguments));\n  }\n\n  _createClass(WbmDataLayer, [{\n    key: \"init\",\n    value: function init() {// just because we need an init function\n    }\n  }], [{\n    key: \"push\",\n    value: function push(dataLayer) {\n      if (!dataLayer.hasOwnProperty('ecommerce') || !dataLayer.ecommerce.hasOwnProperty('impressions') || !dataLayer.hasOwnProperty('event')) {\n        window.dataLayer.push(dataLayer);\n        return;\n      }\n\n      WbmDataLayer.event = dataLayer.event;\n      var size = new TextEncoder().encode(JSON.stringify(dataLayer)).length / 1024;\n\n      if (Math.ceil(size) < 6) {\n        window.dataLayer.push(dataLayer);\n        return;\n      }\n\n      var impressions = dataLayer.ecommerce.impressions;\n      var ecommerce = dataLayer.ecommerce;\n      var subset = 1;\n      var newDataLayer = WbmDataLayer.createEmptyDataLayer(ecommerce, subset);\n      var splittedImpressions = [];\n\n      for (var i = 1; i < impressions.length; i++) {\n        splittedImpressions.push(impressions[i - 1]);\n\n        if (i % 8 === 0) {\n          WbmDataLayer.pushSubset(newDataLayer, splittedImpressions);\n          subset++;\n          newDataLayer = WbmDataLayer.createEmptyDataLayer(ecommerce, subset);\n          splittedImpressions = [];\n        }\n      } // push leftovers\n\n\n      WbmDataLayer.pushSubset(newDataLayer, splittedImpressions);\n    }\n  }, {\n    key: \"pushSubset\",\n    value: function pushSubset(dataLayer, splittedImpressions) {\n      dataLayer.ecommerce.impressions = splittedImpressions;\n      window.dataLayer.push(dataLayer);\n    }\n  }, {\n    key: \"createEmptyDataLayer\",\n    value: function createEmptyDataLayer(ecommerce, subset) {\n      var dataLayer = {};\n      dataLayer.event = WbmDataLayer.event;\n      dataLayer.ecommerce = ecommerce;\n      dataLayer.ecommerce.subset = subset;\n      dataLayer.ecommerce.impressions = [];\n      return dataLayer;\n    }\n  }]);\n\n  return WbmDataLayer;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(WbmDataLayer, \"event\", '');\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmZNcC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9wbHVnaW4vZGF0YWxheWVyLnBsdWdpbi5qcz8yZGJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2JtRGF0YUxheWVyIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzdGF0aWMgZXZlbnQgPSAnJztcblxuICAgIGluaXQoKSB7XG4gICAgICAgIC8vIGp1c3QgYmVjYXVzZSB3ZSBuZWVkIGFuIGluaXQgZnVuY3Rpb25cbiAgICB9XG5cbiAgICBzdGF0aWMgcHVzaChkYXRhTGF5ZXIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWRhdGFMYXllci5oYXNPd25Qcm9wZXJ0eSgnZWNvbW1lcmNlJykgfHxcbiAgICAgICAgICAgICFkYXRhTGF5ZXIuZWNvbW1lcmNlLmhhc093blByb3BlcnR5KCdpbXByZXNzaW9ucycpIHx8XG4gICAgICAgICAgICAhZGF0YUxheWVyLmhhc093blByb3BlcnR5KCdldmVudCcpXG4gICAgICAgICkge1xuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKGRhdGFMYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBXYm1EYXRhTGF5ZXIuZXZlbnQgPSBkYXRhTGF5ZXIuZXZlbnQ7XG4gICAgICAgIGNvbnN0IHNpemUgPSAobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKEpTT04uc3RyaW5naWZ5KGRhdGFMYXllcikpLmxlbmd0aCkgLyAxMDI0O1xuXG4gICAgICAgIGlmIChNYXRoLmNlaWwoc2l6ZSkgPCA2KSB7XG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goZGF0YUxheWVyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGltcHJlc3Npb25zID0gZGF0YUxheWVyLmVjb21tZXJjZS5pbXByZXNzaW9ucztcbiAgICAgICAgY29uc3QgZWNvbW1lcmNlID0gZGF0YUxheWVyLmVjb21tZXJjZTtcbiAgICAgICAgbGV0IHN1YnNldCA9IDE7XG4gICAgICAgIGxldCBuZXdEYXRhTGF5ZXIgPSBXYm1EYXRhTGF5ZXIuY3JlYXRlRW1wdHlEYXRhTGF5ZXIoZWNvbW1lcmNlLCBzdWJzZXQpO1xuICAgICAgICBsZXQgc3BsaXR0ZWRJbXByZXNzaW9ucyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW1wcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNwbGl0dGVkSW1wcmVzc2lvbnMucHVzaChpbXByZXNzaW9uc1tpLTFdKTtcblxuICAgICAgICAgICAgaWYgKGkgJSA4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgV2JtRGF0YUxheWVyLnB1c2hTdWJzZXQobmV3RGF0YUxheWVyLCBzcGxpdHRlZEltcHJlc3Npb25zKTtcbiAgICAgICAgICAgICAgICBzdWJzZXQrKztcbiAgICAgICAgICAgICAgICBuZXdEYXRhTGF5ZXIgPSBXYm1EYXRhTGF5ZXIuY3JlYXRlRW1wdHlEYXRhTGF5ZXIoZWNvbW1lcmNlLCBzdWJzZXQpO1xuICAgICAgICAgICAgICAgIHNwbGl0dGVkSW1wcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwdXNoIGxlZnRvdmVyc1xuICAgICAgICBXYm1EYXRhTGF5ZXIucHVzaFN1YnNldChuZXdEYXRhTGF5ZXIsIHNwbGl0dGVkSW1wcmVzc2lvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwdXNoU3Vic2V0KGRhdGFMYXllciwgc3BsaXR0ZWRJbXByZXNzaW9ucykge1xuICAgICAgICBkYXRhTGF5ZXIuZWNvbW1lcmNlLmltcHJlc3Npb25zID0gc3BsaXR0ZWRJbXByZXNzaW9ucztcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKGRhdGFMYXllcik7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUVtcHR5RGF0YUxheWVyKGVjb21tZXJjZSwgc3Vic2V0KSB7XG4gICAgICAgIGNvbnN0IGRhdGFMYXllciA9IHt9O1xuICAgICAgICBkYXRhTGF5ZXIuZXZlbnQgPSBXYm1EYXRhTGF5ZXIuZXZlbnQ7XG4gICAgICAgIGRhdGFMYXllci5lY29tbWVyY2UgPSBlY29tbWVyY2U7XG4gICAgICAgIGRhdGFMYXllci5lY29tbWVyY2Uuc3Vic2V0ID0gc3Vic2V0O1xuICAgICAgICBkYXRhTGF5ZXIuZWNvbW1lcmNlLmltcHJlc3Npb25zID0gW107XG5cbiAgICAgICAgcmV0dXJuIGRhdGFMYXllclxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBR0E7QUFFQTs7O0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7O0FBMURBO0FBQ0E7QUFEQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///ffMp\n");

/***/ }),

/***/ "lpb5":
/*!***************************************************!*\
  !*** ./plugin/offcanvas/ajax-offcanvas.plugin.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AjaxOffCanvas; });\n/* harmony import */ var src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin/offcanvas/offcanvas.plugin */ \"bK22\");\n/* harmony import */ var src_service_http_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/service/http-client.service */ \"k8s9\");\n/* harmony import */ var src_utility_loading_indicator_loading_indicator_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utility/loading-indicator/loading-indicator.util */ \"5lm9\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n // xhr call storage\n\nvar xhr = null;\n\nvar AjaxOffCanvas = /*#__PURE__*/function (_OffCanvas) {\n  _inherits(AjaxOffCanvas, _OffCanvas);\n\n  function AjaxOffCanvas() {\n    _classCallCheck(this, AjaxOffCanvas);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AjaxOffCanvas).apply(this, arguments));\n  }\n\n  _createClass(AjaxOffCanvas, null, [{\n    key: \"open\",\n\n    /**\n     * Fire AJAX request to get the offcanvas content\n     *\n     * @param {string} url\n     * @param {*|boolean} data\n     * @param {function|null} callback\n     * @param {'left'|'right'} position\n     * @param {boolean} closable\n     * @param {number} delay\n     * @param {boolean} fullwidth\n     * @param {array|string} cssClass\n     */\n    value: function open() {\n      var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var position = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'left';\n      var closable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var delay = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"].REMOVE_OFF_CANVAS_DELAY();\n      var fullwidth = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n      var cssClass = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';\n\n      if (!url) {\n        throw new Error('A url must be given!');\n      } // avoid multiple backdrops\n\n\n      src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._removeExistingOffCanvas();\n\n      var offCanvas = src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._createOffCanvas(position, fullwidth, cssClass);\n\n      this.setContent(url, data, callback, closable, delay);\n\n      src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"OffCanvasInstance\"]._openOffcanvas(offCanvas);\n    }\n    /**\n     * Method to change the content of the already visible OffCanvas via xhr\n     *\n     * @param {string} url\n     * @param {*} data\n     * @param {function} callback\n     * @param {boolean} closable\n     * @param {number} delay\n     */\n\n  }, {\n    key: \"setContent\",\n    value: function setContent(url, data, callback, closable, delay) {\n      var _this = this;\n\n      var client = new src_service_http_client_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n      _get(_getPrototypeOf(AjaxOffCanvas), \"setContent\", this).call(this, \"<div class=\\\"offcanvas-content-container\\\">\".concat(src_utility_loading_indicator_loading_indicator_util__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTemplate(), \"</div>\"), closable, delay); // interrupt already running ajax calls\n\n\n      if (xhr) xhr.abort();\n\n      var cb = function cb(response) {\n        _get(_getPrototypeOf(AjaxOffCanvas), \"setContent\", _this).call(_this, response, closable, delay); // if a callback function is being injected execute it after opening the OffCanvas\n\n\n        if (typeof callback === 'function') {\n          callback(response);\n        }\n      };\n\n      if (data) {\n        xhr = client.post(url, data, AjaxOffCanvas.executeCallback.bind(this, cb));\n      } else {\n        xhr = client.get(url, AjaxOffCanvas.executeCallback.bind(this, cb));\n      }\n    }\n    /**\n     * Executes the given callback\n     * and initializes all plugins\n     *\n     * @param {function} cb\n     * @param {string} response\n     */\n\n  }, {\n    key: \"executeCallback\",\n    value: function executeCallback(cb, response) {\n      if (typeof cb === 'function') {\n        cb(response);\n      }\n\n      window.PluginManager.initializePlugins();\n    }\n  }]);\n\n  return AjaxOffCanvas;\n}(src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHBiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9vZmZjYW52YXMvYWpheC1vZmZjYW52YXMucGx1Z2luLmpzPzk2OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9mZkNhbnZhcywgeyBPZmZDYW52YXNJbnN0YW5jZSB9IGZyb20gJ3NyYy9wbHVnaW4vb2ZmY2FudmFzL29mZmNhbnZhcy5wbHVnaW4nO1xuaW1wb3J0IEh0dHBDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2UvaHR0cC1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciBmcm9tICdzcmMvdXRpbGl0eS9sb2FkaW5nLWluZGljYXRvci9sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuLy8geGhyIGNhbGwgc3RvcmFnZVxubGV0IHhociA9IG51bGw7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFqYXhPZmZDYW52YXMgZXh0ZW5kcyBPZmZDYW52YXMge1xuXG4gICAgLyoqXG4gICAgICogRmlyZSBBSkFYIHJlcXVlc3QgdG8gZ2V0IHRoZSBvZmZjYW52YXMgY29udGVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7Knxib29sZWFufSBkYXRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbnxudWxsfSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7J2xlZnQnfCdyaWdodCd9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zYWJsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZnVsbHdpZHRoXG4gICAgICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGNzc0NsYXNzXG4gICAgICovXG4gICAgc3RhdGljIG9wZW4odXJsID0gZmFsc2UsIGRhdGEgPSBmYWxzZSwgY2FsbGJhY2sgPSBudWxsLCBwb3NpdGlvbiA9ICdsZWZ0JywgY2xvc2FibGUgPSB0cnVlLCBkZWxheSA9IE9mZkNhbnZhcy5SRU1PVkVfT0ZGX0NBTlZBU19ERUxBWSgpLCBmdWxsd2lkdGggPSBmYWxzZSwgY3NzQ2xhc3MgPSAnJykge1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHVybCBtdXN0IGJlIGdpdmVuIScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGF2b2lkIG11bHRpcGxlIGJhY2tkcm9wc1xuICAgICAgICBPZmZDYW52YXNJbnN0YW5jZS5fcmVtb3ZlRXhpc3RpbmdPZmZDYW52YXMoKTtcblxuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSBPZmZDYW52YXNJbnN0YW5jZS5fY3JlYXRlT2ZmQ2FudmFzKHBvc2l0aW9uLCBmdWxsd2lkdGgsIGNzc0NsYXNzKTtcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KHVybCwgZGF0YSwgY2FsbGJhY2ssIGNsb3NhYmxlLCBkZWxheSk7XG4gICAgICAgIE9mZkNhbnZhc0luc3RhbmNlLl9vcGVuT2ZmY2FudmFzKG9mZkNhbnZhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNoYW5nZSB0aGUgY29udGVudCBvZiB0aGUgYWxyZWFkeSB2aXNpYmxlIE9mZkNhbnZhcyB2aWEgeGhyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NhYmxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5XG4gICAgICovXG4gICAgc3RhdGljIHNldENvbnRlbnQodXJsLCBkYXRhLCBjYWxsYmFjaywgY2xvc2FibGUsIGRlbGF5KSB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBIdHRwQ2xpZW50KCk7XG4gICAgICAgIHN1cGVyLnNldENvbnRlbnQoYDxkaXYgY2xhc3M9XCJvZmZjYW52YXMtY29udGVudC1jb250YWluZXJcIj4ke0xvYWRpbmdJbmRpY2F0b3IuZ2V0VGVtcGxhdGUoKX08L2Rpdj5gLCBjbG9zYWJsZSwgZGVsYXkpO1xuXG4gICAgICAgIC8vIGludGVycnVwdCBhbHJlYWR5IHJ1bm5pbmcgYWpheCBjYWxsc1xuICAgICAgICBpZiAoeGhyKSB4aHIuYWJvcnQoKTtcblxuICAgICAgICBjb25zdCBjYiA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgc3VwZXIuc2V0Q29udGVudChyZXNwb25zZSwgY2xvc2FibGUsIGRlbGF5KTtcbiAgICAgICAgICAgIC8vIGlmIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgYmVpbmcgaW5qZWN0ZWQgZXhlY3V0ZSBpdCBhZnRlciBvcGVuaW5nIHRoZSBPZmZDYW52YXNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHhociA9IGNsaWVudC5wb3N0KHVybCwgZGF0YSwgQWpheE9mZkNhbnZhcy5leGVjdXRlQ2FsbGJhY2suYmluZCh0aGlzLGNiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIgPSBjbGllbnQuZ2V0KHVybCwgQWpheE9mZkNhbnZhcy5leGVjdXRlQ2FsbGJhY2suYmluZCh0aGlzLGNiKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgZ2l2ZW4gY2FsbGJhY2tcbiAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgYWxsIHBsdWdpbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlXG4gICAgICovXG4gICAgc3RhdGljIGV4ZWN1dGVDYWxsYmFjayhjYiwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5QbHVnaW5NYW5hZ2VyLmluaXRpYWxpemVQbHVnaW5zKCk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7O0FBckVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///lpb5\n");

/***/ }),

/***/ "t8WJ":
/*!******************************************************!*\
  !*** ./plugin/cookie/cookie-configuration.plugin.js ***!
  \******************************************************/
/*! exports provided: COOKIE_CONFIGURATION_UPDATE, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COOKIE_CONFIGURATION_UPDATE\", function() { return COOKIE_CONFIGURATION_UPDATE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CookieConfiguration; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/storage/cookie-storage.helper */ \"prSB\");\n/* harmony import */ var src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/plugin/offcanvas/ajax-offcanvas.plugin */ \"lpb5\");\n/* harmony import */ var src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/plugin/offcanvas/offcanvas.plugin */ \"bK22\");\n/* harmony import */ var src_utility_modal_extension_ajax_modal_extension_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/utility/modal-extension/ajax-modal-extension.util */ \"DeZd\");\n/* harmony import */ var src_helper_viewport_detection_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/helper/viewport-detection.helper */ \"nnsc\");\n/* harmony import */ var src_service_http_client_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/service/http-client.service */ \"k8s9\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n *\n * CookieConfiguration plugin\n * --------------------------\n * Renders the configuration template inside an offCanvas\n *\n * Applies its \"openOffCanvas\"-eventHandler to the following selector:\n * 1) '.js-cookie-configuration-button button'\n * 2) `[href=\"${window.router['frontend.cookie.offcanvas']}\"]`\n *\n * Can be opened manually using the public method \"openOffCanvas\"\n *\n * The cookie form is defined via CookieController.php\n * Cookies marked as \"required\" (see CookieController.php) are ignored, since they are assumed to be set manually\n *\n * Configuration changes are pushed to the global (document) event \"CookieConfiguration_Update\"\n *\n */\n\n/* global PluginManager */\n\n\n\n\n\n\n\n // this event will be published via a global (document) EventEmitter\n\nvar COOKIE_CONFIGURATION_UPDATE = 'CookieConfiguration_Update';\n\nvar CookieConfiguration = /*#__PURE__*/function (_Plugin) {\n  _inherits(CookieConfiguration, _Plugin);\n\n  function CookieConfiguration() {\n    _classCallCheck(this, CookieConfiguration);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CookieConfiguration).apply(this, arguments));\n  }\n\n  _createClass(CookieConfiguration, [{\n    key: \"init\",\n    value: function init() {\n      this.lastState = {\n        active: [],\n        inactive: []\n      };\n      this.ajaxModalExtension = null;\n      this._httpClient = new src_service_http_client_service__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\n      this._registerEvents();\n    }\n    /**\n     * Registers the events for displaying the offCanvas\n     * Applies the event to all elements using the \"buttonOpenSelector\" or \"customLinkSelector\"\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_registerEvents\",\n    value: function _registerEvents() {\n      var _this = this;\n\n      var _this$options = this.options,\n          submitEvent = _this$options.submitEvent,\n          buttonOpenSelector = _this$options.buttonOpenSelector,\n          customLinkSelector = _this$options.customLinkSelector,\n          globalButtonAcceptAllSelector = _this$options.globalButtonAcceptAllSelector;\n      Array.from(document.querySelectorAll(buttonOpenSelector)).forEach(function (button) {\n        button.addEventListener(submitEvent, _this.openOffCanvas.bind(_this));\n      });\n      Array.from(document.querySelectorAll(customLinkSelector)).forEach(function (customLink) {\n        customLink.addEventListener(submitEvent, _this._handleCustomLink.bind(_this));\n      });\n      Array.from(document.querySelectorAll(globalButtonAcceptAllSelector)).forEach(function (customLink) {\n        customLink.addEventListener(submitEvent, _this._acceptAllCookiesFromCookieBar.bind(_this));\n      });\n    }\n    /**\n     * Registers events required by the offCanvas template\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_registerOffCanvasEvents\",\n    value: function _registerOffCanvasEvents() {\n      var _this2 = this;\n\n      var _this$options2 = this.options,\n          submitEvent = _this$options2.submitEvent,\n          buttonSubmitSelector = _this$options2.buttonSubmitSelector,\n          buttonAcceptAllSelector = _this$options2.buttonAcceptAllSelector,\n          wrapperToggleSelector = _this$options2.wrapperToggleSelector;\n\n      var offCanvas = this._getOffCanvas();\n\n      if (offCanvas) {\n        var button = offCanvas.querySelector(buttonSubmitSelector);\n        var buttonAcceptAll = offCanvas.querySelector(buttonAcceptAllSelector);\n        var checkboxes = Array.from(offCanvas.querySelectorAll('input[type=\"checkbox\"]'));\n        var wrapperTrigger = Array.from(offCanvas.querySelectorAll(wrapperToggleSelector));\n\n        if (button) {\n          button.addEventListener(submitEvent, this._handleSubmit.bind(this, src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n        }\n\n        if (buttonAcceptAll) {\n          buttonAcceptAll.addEventListener(submitEvent, this._acceptAllCookiesFromOffCanvas.bind(this, src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n        }\n\n        checkboxes.forEach(function (checkbox) {\n          checkbox.addEventListener(submitEvent, _this2._handleCheckbox.bind(_this2));\n        });\n        wrapperTrigger.forEach(function (trigger) {\n          trigger.addEventListener(submitEvent, _this2._handleWrapperTrigger.bind(_this2));\n        });\n      }\n    }\n    /**\n     * Prevent the event default e.g. for anchor elements using the href-selector\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleCustomLink\",\n    value: function _handleCustomLink(event) {\n      event.preventDefault();\n      this.openOffCanvas();\n    }\n  }, {\n    key: \"_handleUpdateListener\",\n    value: function _handleUpdateListener(active, inactive) {\n      var updatedCookies = this._getUpdatedCookies(active, inactive);\n\n      document.$emitter.publish(COOKIE_CONFIGURATION_UPDATE, updatedCookies);\n    }\n    /**\n     * Compare the current in-/active cookies to the initialState and return updated cookies only\n     *\n     * @param active\n     * @param inactive\n     * @private\n     */\n\n  }, {\n    key: \"_getUpdatedCookies\",\n    value: function _getUpdatedCookies(active, inactive) {\n      var lastState = this.lastState;\n      var updated = {};\n      active.forEach(function (currentCheckbox) {\n        if (lastState.inactive.includes(currentCheckbox)) {\n          updated[currentCheckbox] = true;\n        }\n      });\n      inactive.forEach(function (currentCheckbox) {\n        if (lastState.active.includes(currentCheckbox)) {\n          updated[currentCheckbox] = false;\n        }\n      });\n      return updated;\n    }\n    /**\n     * Public method to open the offCanvas\n     *\n     * @param {function|null} callback\n     */\n\n  }, {\n    key: \"openOffCanvas\",\n    value: function openOffCanvas(callback) {\n      var offCanvasPosition = this.options.offCanvasPosition;\n      var url = window.router['frontend.cookie.offcanvas'];\n      var isFullwidth = src_helper_viewport_detection_helper__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isXS();\n\n      this._hideCookieBar();\n\n      src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"].open(url, false, this._onOffCanvasOpened.bind(this, callback), offCanvasPosition, undefined, undefined, isFullwidth);\n    }\n    /**\n     * Public method to close the offCanvas\n     *\n     * @param callback\n     */\n\n  }, {\n    key: \"closeOffCanvas\",\n    value: function closeOffCanvas(callback) {\n      src_plugin_offcanvas_ajax_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close();\n      this.ajaxModalExtension = null;\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n    /**\n     * Private method to apply events to the cookie-configuration template\n     * Also sets the initial checkbox state based on currently set cookies\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_onOffCanvasOpened\",\n    value: function _onOffCanvasOpened(callback) {\n      this._registerOffCanvasEvents();\n\n      this.ajaxModalExtension = new src_utility_modal_extension_ajax_modal_extension_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"](false);\n\n      this._setInitialState();\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }, {\n    key: \"_hideCookieBar\",\n    value: function _hideCookieBar() {\n      var cookiePermissionPlugin = PluginManager.getPluginInstances('CookiePermission');\n\n      if (cookiePermissionPlugin && cookiePermissionPlugin[0]) {\n        cookiePermissionPlugin[0]._hideCookieBar();\n\n        cookiePermissionPlugin[0]._removeBodyPadding();\n      }\n    }\n    /**\n     * Get current cookie configuration and preselect coherent checkboxes\n     * Required cookies are already checked in the template\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_setInitialState\",\n    value: function _setInitialState() {\n      var _this3 = this;\n\n      var offCanvas = this._getOffCanvas();\n\n      var cookies = this._getCookies('all');\n\n      var activeCookies = [];\n      var inactiveCookies = [];\n      cookies.forEach(function (_ref) {\n        var cookie = _ref.cookie,\n            required = _ref.required;\n        var isActive = src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(cookie);\n\n        if (isActive || required) {\n          activeCookies.push(cookie);\n        } else {\n          inactiveCookies.push(cookie);\n        }\n      });\n      this.lastState = {\n        active: activeCookies,\n        inactive: inactiveCookies\n      };\n      activeCookies.forEach(function (activeCookie) {\n        var target = offCanvas.querySelector(\"[data-cookie=\\\"\".concat(activeCookie, \"\\\"]\"));\n        target.checked = true;\n\n        _this3._childCheckboxEvent(target);\n      });\n    }\n    /**\n     * From click target, try to find the cookie group container and toggle the open state\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleWrapperTrigger\",\n    value: function _handleWrapperTrigger(event) {\n      event.preventDefault();\n      var _this$options3 = this.options,\n          entriesActiveClass = _this$options3.entriesActiveClass,\n          entriesClass = _this$options3.entriesClass,\n          groupClass = _this$options3.groupClass;\n      var target = event.target;\n\n      var cookieEntryContainer = this._findParentEl(target, entriesClass, groupClass);\n\n      if (cookieEntryContainer) {\n        var active = cookieEntryContainer.classList.contains(entriesActiveClass);\n\n        if (active) {\n          cookieEntryContainer.classList.remove(entriesActiveClass);\n        } else {\n          cookieEntryContainer.classList.add(entriesActiveClass);\n        }\n      }\n    }\n    /**\n     * Determine whether the target checkbox is a parent or a child checkbox\n     *\n     * @param event\n     * @private\n     */\n\n  }, {\n    key: \"_handleCheckbox\",\n    value: function _handleCheckbox(event) {\n      var parentInputClass = this.options.parentInputClass;\n      var target = event.target;\n      var callback = target.classList.contains(parentInputClass) ? this._parentCheckboxEvent : this._childCheckboxEvent;\n      callback.call(this, target);\n    }\n    /**\n     * Recursively checks the provided elements parent for the first class parameter\n     * Stops the recursion, if the parentElement contains the second class parameter\n     *\n     * @param el\n     * @param findClass\n     * @param abortClass\n     * @returns {*|HTMLElement|*}\n     * @private\n     */\n\n  }, {\n    key: \"_findParentEl\",\n    value: function _findParentEl(el, findClass) {\n      var abortClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      while (!!el && !el.classList.contains(abortClass)) {\n        if (el.classList.contains(findClass)) {\n          return el;\n        }\n\n        el = el.parentElement;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_isChecked\",\n    value: function _isChecked(target) {\n      return !!target.checked;\n    }\n    /**\n     * De-/select all checkboxes of the current group\n     *\n     * @param target\n     * @private\n     */\n\n  }, {\n    key: \"_parentCheckboxEvent\",\n    value: function _parentCheckboxEvent(target) {\n      var groupClass = this.options.groupClass;\n\n      var newState = this._isChecked(target);\n\n      var group = this._findParentEl(target, groupClass);\n\n      this._toggleWholeGroup(newState, group);\n    }\n    /**\n     *\n     * Trigger a change event for the \"select-all\" checkbox of the childs group\n     *\n     * @param target\n     * @private\n     */\n\n  }, {\n    key: \"_childCheckboxEvent\",\n    value: function _childCheckboxEvent(target) {\n      var groupClass = this.options.groupClass;\n\n      var newState = this._isChecked(target);\n\n      var group = this._findParentEl(target, groupClass);\n\n      this._toggleParentCheckbox(newState, group);\n    }\n    /**\n     * Toogle each checkbox inside the given group\n     *\n     * @param state\n     * @param group\n     * @private\n     */\n\n  }, {\n    key: \"_toggleWholeGroup\",\n    value: function _toggleWholeGroup(state, group) {\n      Array.from(group.querySelectorAll('input')).forEach(function (checkbox) {\n        checkbox.checked = state;\n      });\n    }\n    /**\n     * Toggle a groups \"select-all\" checkbox according to changes to its child checkboxes\n     * \"Check, if any child checkbox is checked\" / \"Uncheck, if no child checkboxes are checked\"\n     *\n     * @param state\n     * @param group\n     * @private\n     */\n\n  }, {\n    key: \"_toggleParentCheckbox\",\n    value: function _toggleParentCheckbox(state, group) {\n      var parentInputSelector = this.options.parentInputSelector;\n      var checkboxes = Array.from(group.querySelectorAll(\"input:not(\".concat(parentInputSelector, \")\")));\n      var activeCheckboxes = Array.from(group.querySelectorAll(\"input:not(\".concat(parentInputSelector, \"):checked\")));\n\n      if (checkboxes.length > 0) {\n        var parentCheckbox = group.querySelector(parentInputSelector);\n\n        if (parentCheckbox) {\n          var checked = activeCheckboxes.length > 0;\n          var indeterminate = checked && activeCheckboxes.length !== checkboxes.length;\n          parentCheckbox.checked = checked;\n          parentCheckbox.indeterminate = indeterminate;\n        }\n      }\n    }\n    /**\n     * Event handler for the 'Save' button inside the offCanvas\n     *\n     * Removes unselected cookies, if already set\n     * Sets or refreshes selected cookies\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_handleSubmit\",\n    value: function _handleSubmit() {\n      var activeCookies = this._getCookies('active');\n\n      var inactiveCookies = this._getCookies('inactive');\n\n      var cookiePreference = this.options.cookiePreference;\n      var activeCookieNames = [];\n      var inactiveCookieNames = [];\n      inactiveCookies.forEach(function (_ref2) {\n        var cookie = _ref2.cookie;\n        inactiveCookieNames.push(cookie);\n\n        if (src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(cookie)) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeItem(cookie);\n        }\n      });\n      /**\n       * Cookies without value are passed to the updateListener\n       * ( see \"_handleUpdateListener\" method )\n       */\n\n      activeCookies.forEach(function (_ref3) {\n        var cookie = _ref3.cookie,\n            value = _ref3.value,\n            expiration = _ref3.expiration;\n        activeCookieNames.push(cookie);\n\n        if (cookie && value) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookie, value, expiration);\n        }\n      });\n      src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookiePreference, '1', '30');\n\n      this._handleUpdateListener(activeCookieNames, inactiveCookieNames);\n\n      this.closeOffCanvas();\n    }\n    /**\n     * Accepts all cookies. Pass `true` to the loadIntoMemory parameter to load the DOM into memory instead of\n     * opening the OffCanvas menu.\n     *\n     * @param loadIntoMemory\n     */\n\n  }, {\n    key: \"acceptAllCookies\",\n    value: function acceptAllCookies() {\n      var _this4 = this;\n\n      var loadIntoMemory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!loadIntoMemory) {\n        this._handleAcceptAll();\n\n        this.closeOffCanvas();\n        return;\n      }\n\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_7__[\"default\"].create(this.el);\n      var url = window.router['frontend.cookie.offcanvas'];\n\n      this._httpClient.get(url, function (response) {\n        var dom = new DOMParser().parseFromString(response, 'text/html');\n\n        _this4._handleAcceptAll(dom);\n\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_7__[\"default\"].remove(_this4.el);\n\n        _this4._hideCookieBar();\n      });\n    }\n    /**\n     * Event handler for the 'Allow all'-button in the cookie bar.\n     * It loads the DOM into memory before searching for, and accepting the cookies.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_acceptAllCookiesFromCookieBar\",\n    value: function _acceptAllCookiesFromCookieBar() {\n      return this.acceptAllCookies(true);\n    }\n    /**\n     * Event handler for the 'Allow all'-button in the off canvas view.\n     * It uses the DOM from the Off Canvas container to search for, and accept the cookies.\n     * After accepting, it closes the OffCanvas sidebar.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_acceptAllCookiesFromOffCanvas\",\n    value: function _acceptAllCookiesFromOffCanvas() {\n      return this.acceptAllCookies();\n    }\n    /**\n     * This will set and refresh all registered cookies.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_handleAcceptAll\",\n    value: function _handleAcceptAll() {\n      var offCanvas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      var allCookies = this._getCookies('all', offCanvas);\n\n      var cookiePreference = this.options.cookiePreference;\n      allCookies.forEach(function (_ref4) {\n        var cookie = _ref4.cookie,\n            value = _ref4.value,\n            expiration = _ref4.expiration;\n\n        if (cookie && value) {\n          src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookie, value, expiration);\n        }\n      });\n      src_helper_storage_cookie_storage_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setItem(cookiePreference, '1', '30');\n\n      this._handleUpdateListener(allCookies.map(function (_ref5) {\n        var cookie = _ref5.cookie;\n        return cookie;\n      }), []);\n    }\n    /**\n     * Get cookies passed to the configuration template\n     * Can be filtered by \"all\", \"active\" or \"inactive\"\n     *\n     * Always excludes \"required\" cookies, since they are assumed to be set separately.\n     *\n     * @param type\n     * @param offCanvas\n     * @returns {Array}\n     * @private\n     */\n\n  }, {\n    key: \"_getCookies\",\n    value: function _getCookies() {\n      var _this5 = this;\n\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n      var offCanvas = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var cookieSelector = this.options.cookieSelector;\n\n      if (!offCanvas) {\n        offCanvas = this._getOffCanvas();\n      }\n\n      return Array.from(offCanvas.querySelectorAll(cookieSelector)).filter(function (cookieInput) {\n        switch (type) {\n          case 'all':\n            return true;\n\n          case 'active':\n            return _this5._isChecked(cookieInput);\n\n          case 'inactive':\n            return !_this5._isChecked(cookieInput);\n\n          default:\n            return false;\n        }\n      }).map(function (filteredInput) {\n        var _filteredInput$datase = filteredInput.dataset,\n            cookie = _filteredInput$datase.cookie,\n            cookieValue = _filteredInput$datase.cookieValue,\n            cookieExpiration = _filteredInput$datase.cookieExpiration,\n            cookieRequired = _filteredInput$datase.cookieRequired;\n        return {\n          cookie: cookie,\n          value: cookieValue,\n          expiration: cookieExpiration,\n          required: cookieRequired\n        };\n      });\n    }\n    /**\n     * Returns the current offcanvas element if available\n     *\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_getOffCanvas\",\n    value: function _getOffCanvas() {\n      var elements = src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ? src_plugin_offcanvas_offcanvas_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getOffCanvas() : [];\n      return elements && elements.length > 0 ? elements[0] : false;\n    }\n  }]);\n\n  return CookieConfiguration;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(CookieConfiguration, \"options\", {\n  offCanvasPosition: 'left',\n  submitEvent: 'click',\n  cookiePreference: 'cookie-preference',\n  cookieSelector: '[data-cookie]',\n  buttonOpenSelector: '.js-cookie-configuration-button button',\n  buttonSubmitSelector: '.js-offcanvas-cookie-submit',\n  buttonAcceptAllSelector: '.js-offcanvas-cookie-accept-all',\n  globalButtonAcceptAllSelector: '.js-cookie-accept-all-button',\n  wrapperToggleSelector: '.offcanvas-cookie-entries span',\n  parentInputSelector: '.offcanvas-cookie-parent-input',\n  customLinkSelector: \"[href=\\\"\".concat(window.router['frontend.cookie.offcanvas'], \"\\\"]\"),\n  entriesActiveClass: 'offcanvas-cookie-entries--active',\n  entriesClass: 'offcanvas-cookie-entries',\n  groupClass: 'offcanvas-cookie-group',\n  parentInputClass: 'offcanvas-cookie-parent-input'\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidDhXSi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BsdWdpbi9jb29raWUvY29va2llLWNvbmZpZ3VyYXRpb24ucGx1Z2luLmpzP2I3YzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29va2llQ29uZmlndXJhdGlvbiBwbHVnaW5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZW5kZXJzIHRoZSBjb25maWd1cmF0aW9uIHRlbXBsYXRlIGluc2lkZSBhbiBvZmZDYW52YXNcbiAqXG4gKiBBcHBsaWVzIGl0cyBcIm9wZW5PZmZDYW52YXNcIi1ldmVudEhhbmRsZXIgdG8gdGhlIGZvbGxvd2luZyBzZWxlY3RvcjpcbiAqIDEpICcuanMtY29va2llLWNvbmZpZ3VyYXRpb24tYnV0dG9uIGJ1dHRvbidcbiAqIDIpIGBbaHJlZj1cIiR7d2luZG93LnJvdXRlclsnZnJvbnRlbmQuY29va2llLm9mZmNhbnZhcyddfVwiXWBcbiAqXG4gKiBDYW4gYmUgb3BlbmVkIG1hbnVhbGx5IHVzaW5nIHRoZSBwdWJsaWMgbWV0aG9kIFwib3Blbk9mZkNhbnZhc1wiXG4gKlxuICogVGhlIGNvb2tpZSBmb3JtIGlzIGRlZmluZWQgdmlhIENvb2tpZUNvbnRyb2xsZXIucGhwXG4gKiBDb29raWVzIG1hcmtlZCBhcyBcInJlcXVpcmVkXCIgKHNlZSBDb29raWVDb250cm9sbGVyLnBocCkgYXJlIGlnbm9yZWQsIHNpbmNlIHRoZXkgYXJlIGFzc3VtZWQgdG8gYmUgc2V0IG1hbnVhbGx5XG4gKlxuICogQ29uZmlndXJhdGlvbiBjaGFuZ2VzIGFyZSBwdXNoZWQgdG8gdGhlIGdsb2JhbCAoZG9jdW1lbnQpIGV2ZW50IFwiQ29va2llQ29uZmlndXJhdGlvbl9VcGRhdGVcIlxuICpcbiAqL1xuXG4vKiBnbG9iYWwgUGx1Z2luTWFuYWdlciAqL1xuXG5pbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICdzcmMvaGVscGVyL3N0b3JhZ2UvY29va2llLXN0b3JhZ2UuaGVscGVyJztcbmltcG9ydCBBamF4T2ZmQ2FudmFzIGZyb20gJ3NyYy9wbHVnaW4vb2ZmY2FudmFzL2FqYXgtb2ZmY2FudmFzLnBsdWdpbic7XG5pbXBvcnQgT2ZmQ2FudmFzIGZyb20gJ3NyYy9wbHVnaW4vb2ZmY2FudmFzL29mZmNhbnZhcy5wbHVnaW4nO1xuaW1wb3J0IEFqYXhNb2RhbEV4dGVuc2lvbiBmcm9tICdzcmMvdXRpbGl0eS9tb2RhbC1leHRlbnNpb24vYWpheC1tb2RhbC1leHRlbnNpb24udXRpbCc7XG5pbXBvcnQgVmlld3BvcnREZXRlY3Rpb24gZnJvbSAnc3JjL2hlbHBlci92aWV3cG9ydC1kZXRlY3Rpb24uaGVscGVyJztcbmltcG9ydCBIdHRwQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL2h0dHAtY2xpZW50LnNlcnZpY2UnO1xuaW1wb3J0IEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbCBmcm9tICdzcmMvdXRpbGl0eS9sb2FkaW5nLWluZGljYXRvci9lbGVtZW50LWxvYWRpbmctaW5kaWNhdG9yLnV0aWwnO1xuXG4vLyB0aGlzIGV2ZW50IHdpbGwgYmUgcHVibGlzaGVkIHZpYSBhIGdsb2JhbCAoZG9jdW1lbnQpIEV2ZW50RW1pdHRlclxuZXhwb3J0IGNvbnN0IENPT0tJRV9DT05GSUdVUkFUSU9OX1VQREFURSA9ICdDb29raWVDb25maWd1cmF0aW9uX1VwZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvb2tpZUNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgc3RhdGljIG9wdGlvbnMgPSB7XG4gICAgICAgIG9mZkNhbnZhc1Bvc2l0aW9uOiAnbGVmdCcsXG4gICAgICAgIHN1Ym1pdEV2ZW50OiAnY2xpY2snLFxuICAgICAgICBjb29raWVQcmVmZXJlbmNlOiAnY29va2llLXByZWZlcmVuY2UnLFxuICAgICAgICBjb29raWVTZWxlY3RvcjogJ1tkYXRhLWNvb2tpZV0nLFxuICAgICAgICBidXR0b25PcGVuU2VsZWN0b3I6ICcuanMtY29va2llLWNvbmZpZ3VyYXRpb24tYnV0dG9uIGJ1dHRvbicsXG4gICAgICAgIGJ1dHRvblN1Ym1pdFNlbGVjdG9yOiAnLmpzLW9mZmNhbnZhcy1jb29raWUtc3VibWl0JyxcbiAgICAgICAgYnV0dG9uQWNjZXB0QWxsU2VsZWN0b3I6ICcuanMtb2ZmY2FudmFzLWNvb2tpZS1hY2NlcHQtYWxsJyxcbiAgICAgICAgZ2xvYmFsQnV0dG9uQWNjZXB0QWxsU2VsZWN0b3I6ICcuanMtY29va2llLWFjY2VwdC1hbGwtYnV0dG9uJyxcbiAgICAgICAgd3JhcHBlclRvZ2dsZVNlbGVjdG9yOiAnLm9mZmNhbnZhcy1jb29raWUtZW50cmllcyBzcGFuJyxcbiAgICAgICAgcGFyZW50SW5wdXRTZWxlY3RvcjogJy5vZmZjYW52YXMtY29va2llLXBhcmVudC1pbnB1dCcsXG4gICAgICAgIGN1c3RvbUxpbmtTZWxlY3RvcjogYFtocmVmPVwiJHt3aW5kb3cucm91dGVyWydmcm9udGVuZC5jb29raWUub2ZmY2FudmFzJ119XCJdYCxcbiAgICAgICAgZW50cmllc0FjdGl2ZUNsYXNzOiAnb2ZmY2FudmFzLWNvb2tpZS1lbnRyaWVzLS1hY3RpdmUnLFxuICAgICAgICBlbnRyaWVzQ2xhc3M6ICdvZmZjYW52YXMtY29va2llLWVudHJpZXMnLFxuICAgICAgICBncm91cENsYXNzOiAnb2ZmY2FudmFzLWNvb2tpZS1ncm91cCcsXG4gICAgICAgIHBhcmVudElucHV0Q2xhc3M6ICdvZmZjYW52YXMtY29va2llLXBhcmVudC1pbnB1dCcsXG4gICAgfTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMubGFzdFN0YXRlID0ge1xuICAgICAgICAgICAgYWN0aXZlOiBbXSxcbiAgICAgICAgICAgIGluYWN0aXZlOiBbXSxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFqYXhNb2RhbEV4dGVuc2lvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faHR0cENsaWVudCA9IG5ldyBIdHRwQ2xpZW50KCk7XG5cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgdGhlIGV2ZW50cyBmb3IgZGlzcGxheWluZyB0aGUgb2ZmQ2FudmFzXG4gICAgICogQXBwbGllcyB0aGUgZXZlbnQgdG8gYWxsIGVsZW1lbnRzIHVzaW5nIHRoZSBcImJ1dHRvbk9wZW5TZWxlY3RvclwiIG9yIFwiY3VzdG9tTGlua1NlbGVjdG9yXCJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB7IHN1Ym1pdEV2ZW50LCBidXR0b25PcGVuU2VsZWN0b3IsIGN1c3RvbUxpbmtTZWxlY3RvciwgZ2xvYmFsQnV0dG9uQWNjZXB0QWxsU2VsZWN0b3IgfSA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYnV0dG9uT3BlblNlbGVjdG9yKSkuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMub3Blbk9mZkNhbnZhcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1c3RvbUxpbmtTZWxlY3RvcikpLmZvckVhY2goY3VzdG9tTGluayA9PiB7XG4gICAgICAgICAgICBjdXN0b21MaW5rLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMuX2hhbmRsZUN1c3RvbUxpbmsuYmluZCh0aGlzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChnbG9iYWxCdXR0b25BY2NlcHRBbGxTZWxlY3RvcikpLmZvckVhY2goY3VzdG9tTGluayA9PiB7XG4gICAgICAgICAgICBjdXN0b21MaW5rLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMuX2FjY2VwdEFsbENvb2tpZXNGcm9tQ29va2llQmFyLmJpbmQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgZXZlbnRzIHJlcXVpcmVkIGJ5IHRoZSBvZmZDYW52YXMgdGVtcGxhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyT2ZmQ2FudmFzRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB7IHN1Ym1pdEV2ZW50LCBidXR0b25TdWJtaXRTZWxlY3RvciwgYnV0dG9uQWNjZXB0QWxsU2VsZWN0b3IsIHdyYXBwZXJUb2dnbGVTZWxlY3RvciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvZmZDYW52YXMgPSB0aGlzLl9nZXRPZmZDYW52YXMoKTtcblxuICAgICAgICBpZiAob2ZmQ2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihidXR0b25TdWJtaXRTZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBidXR0b25BY2NlcHRBbGwgPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihidXR0b25BY2NlcHRBbGxTZWxlY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gQXJyYXkuZnJvbShvZmZDYW52YXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlclRyaWdnZXIgPSBBcnJheS5mcm9tKG9mZkNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKHdyYXBwZXJUb2dnbGVTZWxlY3RvcikpO1xuXG4gICAgICAgICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoc3VibWl0RXZlbnQsIHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMsIENvb2tpZVN0b3JhZ2UpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJ1dHRvbkFjY2VwdEFsbCkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkFjY2VwdEFsbC5hZGRFdmVudExpc3RlbmVyKHN1Ym1pdEV2ZW50LCB0aGlzLl9hY2NlcHRBbGxDb29raWVzRnJvbU9mZkNhbnZhcy5iaW5kKHRoaXMsIENvb2tpZVN0b3JhZ2UpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGNoZWNrYm94ID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKHN1Ym1pdEV2ZW50LCB0aGlzLl9oYW5kbGVDaGVja2JveC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3cmFwcGVyVHJpZ2dlci5mb3JFYWNoKHRyaWdnZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihzdWJtaXRFdmVudCwgdGhpcy5faGFuZGxlV3JhcHBlclRyaWdnZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgdGhlIGV2ZW50IGRlZmF1bHQgZS5nLiBmb3IgYW5jaG9yIGVsZW1lbnRzIHVzaW5nIHRoZSBocmVmLXNlbGVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oYW5kbGVDdXN0b21MaW5rKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5vcGVuT2ZmQ2FudmFzKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVVwZGF0ZUxpc3RlbmVyKGFjdGl2ZSwgaW5hY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZENvb2tpZXMgPSB0aGlzLl9nZXRVcGRhdGVkQ29va2llcyhhY3RpdmUsIGluYWN0aXZlKTtcblxuICAgICAgICBkb2N1bWVudC4kZW1pdHRlci5wdWJsaXNoKENPT0tJRV9DT05GSUdVUkFUSU9OX1VQREFURSwgdXBkYXRlZENvb2tpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmUgdGhlIGN1cnJlbnQgaW4tL2FjdGl2ZSBjb29raWVzIHRvIHRoZSBpbml0aWFsU3RhdGUgYW5kIHJldHVybiB1cGRhdGVkIGNvb2tpZXMgb25seVxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdGl2ZVxuICAgICAqIEBwYXJhbSBpbmFjdGl2ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFVwZGF0ZWRDb29raWVzKGFjdGl2ZSwgaW5hY3RpdmUpIHtcbiAgICAgICAgY29uc3QgeyBsYXN0U3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7fTtcblxuICAgICAgICBhY3RpdmUuZm9yRWFjaChjdXJyZW50Q2hlY2tib3ggPT4ge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZS5pbmFjdGl2ZS5pbmNsdWRlcyhjdXJyZW50Q2hlY2tib3gpKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFtjdXJyZW50Q2hlY2tib3hdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW5hY3RpdmUuZm9yRWFjaChjdXJyZW50Q2hlY2tib3ggPT4ge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZS5hY3RpdmUuaW5jbHVkZXMoY3VycmVudENoZWNrYm94KSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRbY3VycmVudENoZWNrYm94XSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaWMgbWV0aG9kIHRvIG9wZW4gdGhlIG9mZkNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbnxudWxsfSBjYWxsYmFja1xuICAgICAqL1xuICAgIG9wZW5PZmZDYW52YXMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgeyBvZmZDYW52YXNQb3NpdGlvbiB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cucm91dGVyWydmcm9udGVuZC5jb29raWUub2ZmY2FudmFzJ107XG4gICAgICAgIGNvbnN0IGlzRnVsbHdpZHRoID0gVmlld3BvcnREZXRlY3Rpb24uaXNYUygpO1xuXG4gICAgICAgIHRoaXMuX2hpZGVDb29raWVCYXIoKTtcblxuICAgICAgICBBamF4T2ZmQ2FudmFzLm9wZW4odXJsLCBmYWxzZSwgdGhpcy5fb25PZmZDYW52YXNPcGVuZWQuYmluZCh0aGlzLCBjYWxsYmFjayksIG9mZkNhbnZhc1Bvc2l0aW9uLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaXNGdWxsd2lkdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1YmxpYyBtZXRob2QgdG8gY2xvc2UgdGhlIG9mZkNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgY2xvc2VPZmZDYW52YXMoY2FsbGJhY2spIHtcbiAgICAgICAgQWpheE9mZkNhbnZhcy5jbG9zZSgpO1xuXG4gICAgICAgIHRoaXMuYWpheE1vZGFsRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBtZXRob2QgdG8gYXBwbHkgZXZlbnRzIHRvIHRoZSBjb29raWUtY29uZmlndXJhdGlvbiB0ZW1wbGF0ZVxuICAgICAqIEFsc28gc2V0cyB0aGUgaW5pdGlhbCBjaGVja2JveCBzdGF0ZSBiYXNlZCBvbiBjdXJyZW50bHkgc2V0IGNvb2tpZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uT2ZmQ2FudmFzT3BlbmVkKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyT2ZmQ2FudmFzRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5hamF4TW9kYWxFeHRlbnNpb24gPSBuZXcgQWpheE1vZGFsRXh0ZW5zaW9uKGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9zZXRJbml0aWFsU3RhdGUoKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hpZGVDb29raWVCYXIoKSB7XG4gICAgICAgIGNvbnN0IGNvb2tpZVBlcm1pc3Npb25QbHVnaW4gPSBQbHVnaW5NYW5hZ2VyLmdldFBsdWdpbkluc3RhbmNlcygnQ29va2llUGVybWlzc2lvbicpO1xuXG4gICAgICAgIGlmIChjb29raWVQZXJtaXNzaW9uUGx1Z2luICYmIGNvb2tpZVBlcm1pc3Npb25QbHVnaW5bMF0pIHtcbiAgICAgICAgICAgIGNvb2tpZVBlcm1pc3Npb25QbHVnaW5bMF0uX2hpZGVDb29raWVCYXIoKTtcbiAgICAgICAgICAgIGNvb2tpZVBlcm1pc3Npb25QbHVnaW5bMF0uX3JlbW92ZUJvZHlQYWRkaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBjb29raWUgY29uZmlndXJhdGlvbiBhbmQgcHJlc2VsZWN0IGNvaGVyZW50IGNoZWNrYm94ZXNcbiAgICAgKiBSZXF1aXJlZCBjb29raWVzIGFyZSBhbHJlYWR5IGNoZWNrZWQgaW4gdGhlIHRlbXBsYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIGNvbnN0IG9mZkNhbnZhcyA9IHRoaXMuX2dldE9mZkNhbnZhcygpO1xuICAgICAgICBjb25zdCBjb29raWVzID0gdGhpcy5fZ2V0Q29va2llcygnYWxsJyk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvb2tpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVDb29raWVzID0gW107XG5cbiAgICAgICAgY29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSwgcmVxdWlyZWQgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBDb29raWVTdG9yYWdlLmdldEl0ZW0oY29va2llKTtcbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZSB8fCByZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUNvb2tpZXMucHVzaChjb29raWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZUNvb2tpZXMucHVzaChjb29raWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxhc3RTdGF0ZSA9IHtcbiAgICAgICAgICAgIGFjdGl2ZTogYWN0aXZlQ29va2llcyxcbiAgICAgICAgICAgIGluYWN0aXZlOiBpbmFjdGl2ZUNvb2tpZXMsXG4gICAgICAgIH07XG5cbiAgICAgICAgYWN0aXZlQ29va2llcy5mb3JFYWNoKGFjdGl2ZUNvb2tpZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBvZmZDYW52YXMucXVlcnlTZWxlY3RvcihgW2RhdGEtY29va2llPVwiJHthY3RpdmVDb29raWV9XCJdYCk7XG5cbiAgICAgICAgICAgIHRhcmdldC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ2hlY2tib3hFdmVudCh0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIGNsaWNrIHRhcmdldCwgdHJ5IHRvIGZpbmQgdGhlIGNvb2tpZSBncm91cCBjb250YWluZXIgYW5kIHRvZ2dsZSB0aGUgb3BlbiBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGFuZGxlV3JhcHBlclRyaWdnZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgeyBlbnRyaWVzQWN0aXZlQ2xhc3MsIGVudHJpZXNDbGFzcywgZ3JvdXBDbGFzcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG5cbiAgICAgICAgY29uc3QgY29va2llRW50cnlDb250YWluZXIgPSB0aGlzLl9maW5kUGFyZW50RWwodGFyZ2V0LCBlbnRyaWVzQ2xhc3MsIGdyb3VwQ2xhc3MpO1xuXG4gICAgICAgIGlmIChjb29raWVFbnRyeUNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gY29va2llRW50cnlDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGVudHJpZXNBY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBjb29raWVFbnRyeUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGVudHJpZXNBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvb2tpZUVudHJ5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoZW50cmllc0FjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSB0YXJnZXQgY2hlY2tib3ggaXMgYSBwYXJlbnQgb3IgYSBjaGlsZCBjaGVja2JveFxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGFuZGxlQ2hlY2tib3goZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBwYXJlbnRJbnB1dENsYXNzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcblxuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMocGFyZW50SW5wdXRDbGFzcykgPyB0aGlzLl9wYXJlbnRDaGVja2JveEV2ZW50IDogdGhpcy5fY2hpbGRDaGVja2JveEV2ZW50O1xuXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGFyZ2V0KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGNoZWNrcyB0aGUgcHJvdmlkZWQgZWxlbWVudHMgcGFyZW50IGZvciB0aGUgZmlyc3QgY2xhc3MgcGFyYW1ldGVyXG4gICAgICogU3RvcHMgdGhlIHJlY3Vyc2lvbiwgaWYgdGhlIHBhcmVudEVsZW1lbnQgY29udGFpbnMgdGhlIHNlY29uZCBjbGFzcyBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbFxuICAgICAqIEBwYXJhbSBmaW5kQ2xhc3NcbiAgICAgKiBAcGFyYW0gYWJvcnRDbGFzc1xuICAgICAqIEByZXR1cm5zIHsqfEhUTUxFbGVtZW50fCp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZFBhcmVudEVsKGVsLCBmaW5kQ2xhc3MsIGFib3J0Q2xhc3MgPSBudWxsKSB7XG4gICAgICAgIHdoaWxlKCEhZWwgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhhYm9ydENsYXNzKSkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhmaW5kQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgX2lzQ2hlY2tlZCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuICEhdGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGUtL3NlbGVjdCBhbGwgY2hlY2tib3hlcyBvZiB0aGUgY3VycmVudCBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BhcmVudENoZWNrYm94RXZlbnQodGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBDbGFzcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHRoaXMuX2lzQ2hlY2tlZCh0YXJnZXQpO1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX2ZpbmRQYXJlbnRFbCh0YXJnZXQsIGdyb3VwQ2xhc3MpO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZVdob2xlR3JvdXAobmV3U3RhdGUsIGdyb3VwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQgZm9yIHRoZSBcInNlbGVjdC1hbGxcIiBjaGVja2JveCBvZiB0aGUgY2hpbGRzIGdyb3VwXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2hpbGRDaGVja2JveEV2ZW50KHRhcmdldCkge1xuICAgICAgICBjb25zdCB7IGdyb3VwQ2xhc3MgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLl9pc0NoZWNrZWQodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9maW5kUGFyZW50RWwodGFyZ2V0LCBncm91cENsYXNzKTtcblxuICAgICAgICB0aGlzLl90b2dnbGVQYXJlbnRDaGVja2JveChuZXdTdGF0ZSwgZ3JvdXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvb2dsZSBlYWNoIGNoZWNrYm94IGluc2lkZSB0aGUgZ2l2ZW4gZ3JvdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZVxuICAgICAqIEBwYXJhbSBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvZ2dsZVdob2xlR3JvdXAoc3RhdGUsIGdyb3VwKSB7XG4gICAgICAgIEFycmF5LmZyb20oZ3JvdXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSkuZm9yRWFjaChjaGVja2JveCA9PiB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gc3RhdGU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBhIGdyb3VwcyBcInNlbGVjdC1hbGxcIiBjaGVja2JveCBhY2NvcmRpbmcgdG8gY2hhbmdlcyB0byBpdHMgY2hpbGQgY2hlY2tib3hlc1xuICAgICAqIFwiQ2hlY2ssIGlmIGFueSBjaGlsZCBjaGVja2JveCBpcyBjaGVja2VkXCIgLyBcIlVuY2hlY2ssIGlmIG5vIGNoaWxkIGNoZWNrYm94ZXMgYXJlIGNoZWNrZWRcIlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlXG4gICAgICogQHBhcmFtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9nZ2xlUGFyZW50Q2hlY2tib3goc3RhdGUsIGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50SW5wdXRTZWxlY3RvciB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjaGVja2JveGVzID0gQXJyYXkuZnJvbShncm91cC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dDpub3QoJHtwYXJlbnRJbnB1dFNlbGVjdG9yfSlgKSk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoZWNrYm94ZXMgPSBBcnJheS5mcm9tKGdyb3VwLnF1ZXJ5U2VsZWN0b3JBbGwoYGlucHV0Om5vdCgke3BhcmVudElucHV0U2VsZWN0b3J9KTpjaGVja2VkYCkpO1xuXG4gICAgICAgIGlmIChjaGVja2JveGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENoZWNrYm94ID0gZ3JvdXAucXVlcnlTZWxlY3RvcihwYXJlbnRJbnB1dFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKHBhcmVudENoZWNrYm94KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGFjdGl2ZUNoZWNrYm94ZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRldGVybWluYXRlID0gY2hlY2tlZCAmJiBhY3RpdmVDaGVja2JveGVzLmxlbmd0aCAhPT0gY2hlY2tib3hlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnRDaGVja2JveC5jaGVja2VkID0gY2hlY2tlZDtcbiAgICAgICAgICAgICAgICBwYXJlbnRDaGVja2JveC5pbmRldGVybWluYXRlID0gaW5kZXRlcm1pbmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRoZSAnU2F2ZScgYnV0dG9uIGluc2lkZSB0aGUgb2ZmQ2FudmFzXG4gICAgICpcbiAgICAgKiBSZW1vdmVzIHVuc2VsZWN0ZWQgY29va2llcywgaWYgYWxyZWFkeSBzZXRcbiAgICAgKiBTZXRzIG9yIHJlZnJlc2hlcyBzZWxlY3RlZCBjb29raWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oYW5kbGVTdWJtaXQoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvb2tpZXMgPSB0aGlzLl9nZXRDb29raWVzKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVDb29raWVzID0gdGhpcy5fZ2V0Q29va2llcygnaW5hY3RpdmUnKTtcbiAgICAgICAgY29uc3QgeyBjb29raWVQcmVmZXJlbmNlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgYWN0aXZlQ29va2llTmFtZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVDb29raWVOYW1lcyA9IFtdO1xuXG4gICAgICAgIGluYWN0aXZlQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSB9KSA9PiB7XG4gICAgICAgICAgICBpbmFjdGl2ZUNvb2tpZU5hbWVzLnB1c2goY29va2llKTtcblxuICAgICAgICAgICAgaWYgKENvb2tpZVN0b3JhZ2UuZ2V0SXRlbShjb29raWUpKSB7XG4gICAgICAgICAgICAgICAgQ29va2llU3RvcmFnZS5yZW1vdmVJdGVtKGNvb2tpZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb29raWVzIHdpdGhvdXQgdmFsdWUgYXJlIHBhc3NlZCB0byB0aGUgdXBkYXRlTGlzdGVuZXJcbiAgICAgICAgICogKCBzZWUgXCJfaGFuZGxlVXBkYXRlTGlzdGVuZXJcIiBtZXRob2QgKVxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZlQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24gfSkgPT4ge1xuICAgICAgICAgICAgYWN0aXZlQ29va2llTmFtZXMucHVzaChjb29raWUpO1xuXG4gICAgICAgICAgICBpZiAoY29va2llICYmIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgQ29va2llU3RvcmFnZS5zZXRJdGVtKGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBDb29raWVTdG9yYWdlLnNldEl0ZW0oY29va2llUHJlZmVyZW5jZSwgJzEnLCAnMzAnKTtcblxuICAgICAgICB0aGlzLl9oYW5kbGVVcGRhdGVMaXN0ZW5lcihhY3RpdmVDb29raWVOYW1lcywgaW5hY3RpdmVDb29raWVOYW1lcyk7XG4gICAgICAgIHRoaXMuY2xvc2VPZmZDYW52YXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIGFsbCBjb29raWVzLiBQYXNzIGB0cnVlYCB0byB0aGUgbG9hZEludG9NZW1vcnkgcGFyYW1ldGVyIHRvIGxvYWQgdGhlIERPTSBpbnRvIG1lbW9yeSBpbnN0ZWFkIG9mXG4gICAgICogb3BlbmluZyB0aGUgT2ZmQ2FudmFzIG1lbnUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9hZEludG9NZW1vcnlcbiAgICAgKi9cbiAgICBhY2NlcHRBbGxDb29raWVzKGxvYWRJbnRvTWVtb3J5ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFsb2FkSW50b01lbW9yeSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQWNjZXB0QWxsKCk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlT2ZmQ2FudmFzKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUodGhpcy5lbCk7XG5cbiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LnJvdXRlclsnZnJvbnRlbmQuY29va2llLm9mZmNhbnZhcyddO1xuXG4gICAgICAgIHRoaXMuX2h0dHBDbGllbnQuZ2V0KHVybCwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkb20gPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLCAndGV4dC9odG1sJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFjY2VwdEFsbChkb20pO1xuXG4gICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgICAgICAgdGhpcy5faGlkZUNvb2tpZUJhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciB0aGUgJ0FsbG93IGFsbCctYnV0dG9uIGluIHRoZSBjb29raWUgYmFyLlxuICAgICAqIEl0IGxvYWRzIHRoZSBET00gaW50byBtZW1vcnkgYmVmb3JlIHNlYXJjaGluZyBmb3IsIGFuZCBhY2NlcHRpbmcgdGhlIGNvb2tpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hY2NlcHRBbGxDb29raWVzRnJvbUNvb2tpZUJhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXB0QWxsQ29va2llcyh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciB0aGUgJ0FsbG93IGFsbCctYnV0dG9uIGluIHRoZSBvZmYgY2FudmFzIHZpZXcuXG4gICAgICogSXQgdXNlcyB0aGUgRE9NIGZyb20gdGhlIE9mZiBDYW52YXMgY29udGFpbmVyIHRvIHNlYXJjaCBmb3IsIGFuZCBhY2NlcHQgdGhlIGNvb2tpZXMuXG4gICAgICogQWZ0ZXIgYWNjZXB0aW5nLCBpdCBjbG9zZXMgdGhlIE9mZkNhbnZhcyBzaWRlYmFyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWNjZXB0QWxsQ29va2llc0Zyb21PZmZDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VwdEFsbENvb2tpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgc2V0IGFuZCByZWZyZXNoIGFsbCByZWdpc3RlcmVkIGNvb2tpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oYW5kbGVBY2NlcHRBbGwob2ZmQ2FudmFzID0gbnVsbCkge1xuICAgICAgICBjb25zdCBhbGxDb29raWVzID0gdGhpcy5fZ2V0Q29va2llcygnYWxsJywgb2ZmQ2FudmFzKTtcbiAgICAgICAgY29uc3QgeyBjb29raWVQcmVmZXJlbmNlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgYWxsQ29va2llcy5mb3JFYWNoKCh7IGNvb2tpZSwgdmFsdWUsIGV4cGlyYXRpb24gfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvb2tpZSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIENvb2tpZVN0b3JhZ2Uuc2V0SXRlbShjb29raWUsIHZhbHVlLCBleHBpcmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgQ29va2llU3RvcmFnZS5zZXRJdGVtKGNvb2tpZVByZWZlcmVuY2UsICcxJywgJzMwJyk7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlVXBkYXRlTGlzdGVuZXIoYWxsQ29va2llcy5tYXAoKHsgY29va2llIH0pID0+IGNvb2tpZSksIFtdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY29va2llcyBwYXNzZWQgdG8gdGhlIGNvbmZpZ3VyYXRpb24gdGVtcGxhdGVcbiAgICAgKiBDYW4gYmUgZmlsdGVyZWQgYnkgXCJhbGxcIiwgXCJhY3RpdmVcIiBvciBcImluYWN0aXZlXCJcbiAgICAgKlxuICAgICAqIEFsd2F5cyBleGNsdWRlcyBcInJlcXVpcmVkXCIgY29va2llcywgc2luY2UgdGhleSBhcmUgYXNzdW1lZCB0byBiZSBzZXQgc2VwYXJhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHBhcmFtIG9mZkNhbnZhc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDb29raWVzKHR5cGUgPSAnYWxsJywgb2ZmQ2FudmFzID0gbnVsbCkge1xuICAgICAgICBjb25zdCB7IGNvb2tpZVNlbGVjdG9yIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmICghb2ZmQ2FudmFzKSB7XG4gICAgICAgICAgICBvZmZDYW52YXMgPSB0aGlzLl9nZXRPZmZDYW52YXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG9mZkNhbnZhcy5xdWVyeVNlbGVjdG9yQWxsKGNvb2tpZVNlbGVjdG9yKSkuZmlsdGVyKGNvb2tpZUlucHV0ID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FsbCc6IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6IHJldHVybiB0aGlzLl9pc0NoZWNrZWQoY29va2llSW5wdXQpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luYWN0aXZlJzogcmV0dXJuICF0aGlzLl9pc0NoZWNrZWQoY29va2llSW5wdXQpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkubWFwKGZpbHRlcmVkSW5wdXQgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb29raWUsIGNvb2tpZVZhbHVlLCBjb29raWVFeHBpcmF0aW9uLCBjb29raWVSZXF1aXJlZCB9ID0gZmlsdGVyZWRJbnB1dC5kYXRhc2V0O1xuICAgICAgICAgICAgcmV0dXJuIHsgY29va2llLCB2YWx1ZTogY29va2llVmFsdWUsIGV4cGlyYXRpb246IGNvb2tpZUV4cGlyYXRpb24sIHJlcXVpcmVkOiBjb29raWVSZXF1aXJlZCB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG9mZmNhbnZhcyBlbGVtZW50IGlmIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0T2ZmQ2FudmFzKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IE9mZkNhbnZhcyA/IE9mZkNhbnZhcy5nZXRPZmZDYW52YXMoKSA6IFtdO1xuXG4gICAgICAgIHJldHVybiAoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID4gMCkgPyBlbGVtZW50c1swXSA6IGZhbHNlO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFFQTtBQUNBOzs7O0FBNWZBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///t8WJ\n");

/***/ }),

/***/ "v0id":
/*!***********************************************************************************************************!*\
  !*** /app/custom/plugins/WbmTagManagerEcomm/src/Resources/app/storefront/src/plugin/promotions.plugin.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Promotions; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar Promotions = /*#__PURE__*/function (_Plugin) {\n  _inherits(Promotions, _Plugin);\n\n  function Promotions() {\n    _classCallCheck(this, Promotions);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Promotions).apply(this, arguments));\n  }\n\n  _createClass(Promotions, [{\n    key: \"init\",\n    value: function init() {\n      if (!window.wbmScriptIsSet) {\n        return;\n      }\n\n      var self = this;\n      var promotionObjects = false;\n\n      try {\n        promotionObjects = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelectorAll(this.el, '[data-promotion]');\n      } catch (e) {\n        // just no object found\n        return;\n      }\n\n      this.promotions = [];\n      promotionObjects.forEach(function (object) {\n        self.registerEvent(object);\n      });\n      this.pushPromoView();\n    }\n  }, {\n    key: \"registerEvent\",\n    value: function registerEvent(object) {\n      var self = this;\n\n      try {\n        var promotionLinks = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelectorAll(object, 'a, area');\n        promotionLinks.forEach(function (link) {\n          var dataSet = JSON.parse(JSON.stringify(link.dataset));\n\n          if (typeof dataSet.promotionId === 'undefined' && dataSet.promotionName === 'undefinded') {\n            return;\n          }\n\n          self.addPromotion(dataSet);\n          link.addEventListener('click', function (event) {\n            self.onPromotionClicked(event, link, dataSet);\n          });\n        });\n      } catch (e) {// just no object found\n      }\n    }\n  }, {\n    key: \"onPromotionClicked\",\n    value: function onPromotionClicked(event, link, dataSet) {\n      event.preventDefault();\n      dataLayer.push({\n        event: 'promotionClick',\n        ecommerce: {\n          promoClick: {\n            promotions: [{\n              id: dataSet.promotionId || '',\n              name: dataSet.promotionName || '',\n              creative: dataSet.promotionCreative || '',\n              position: dataSet.promotionPosition || ''\n            }]\n          }\n        },\n        eventCallback: function eventCallback() {\n          document.location = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getAttribute(link, 'href');\n        }\n      });\n    }\n  }, {\n    key: \"addPromotion\",\n    value: function addPromotion(dataSet) {\n      var promotion = {\n        id: dataSet.promotionId || '',\n        name: dataSet.promotionName || '',\n        creative: dataSet.promotionCreative || '',\n        position: dataSet.promotionPosition || ''\n      };\n      this.promotions.push(promotion);\n    }\n  }, {\n    key: \"pushPromoView\",\n    value: function pushPromoView() {\n      if (this.promotions.length > 0) {\n        window.dataLayer.push({\n          event: 'promotions',\n          ecommerce: {\n            promoView: {\n              promotions: this.promotions\n            }\n          }\n        });\n      }\n    }\n  }]);\n\n  return Promotions;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidjBpZC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL1dibVRhZ01hbmFnZXJFY29tbS9zcmMvUmVzb3VyY2VzL2FwcC9zdG9yZWZyb250L3NyYy9wbHVnaW4vcHJvbW90aW9ucy5wbHVnaW4uanM/MDdmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgRG9tQWNjZXNzIGZyb20gJ3NyYy9oZWxwZXIvZG9tLWFjY2Vzcy5oZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9tb3Rpb25zIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXdpbmRvdy53Ym1TY3JpcHRJc1NldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBwcm9tb3Rpb25PYmplY3RzID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9tb3Rpb25PYmplY3RzID0gRG9tQWNjZXNzLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbCwgJ1tkYXRhLXByb21vdGlvbl0nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8ganVzdCBubyBvYmplY3QgZm91bmRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvbW90aW9ucyA9IFtdO1xuXG4gICAgICAgIHByb21vdGlvbk9iamVjdHMuZm9yRWFjaCgob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZWxmLnJlZ2lzdGVyRXZlbnQob2JqZWN0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wdXNoUHJvbW9WaWV3KCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudChvYmplY3QpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tb3Rpb25MaW5rcyA9IERvbUFjY2Vzcy5xdWVyeVNlbGVjdG9yQWxsKG9iamVjdCwgJ2EsIGFyZWEnKTtcblxuICAgICAgICAgICAgcHJvbW90aW9uTGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFTZXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxpbmsuZGF0YXNldCkpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVNldC5wcm9tb3Rpb25JZCA9PT0gJ3VuZGVmaW5lZCcgJiYgZGF0YVNldC5wcm9tb3Rpb25OYW1lID09PSAndW5kZWZpbmRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLmFkZFByb21vdGlvbihkYXRhU2V0KTtcblxuICAgICAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblByb21vdGlvbkNsaWNrZWQoZXZlbnQsIGxpbmssIGRhdGFTZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGp1c3Qgbm8gb2JqZWN0IGZvdW5kXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblByb21vdGlvbkNsaWNrZWQoZXZlbnQsIGxpbmssIGRhdGFTZXQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBkYXRhTGF5ZXIucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3Byb21vdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIGVjb21tZXJjZToge1xuICAgICAgICAgICAgICAgIHByb21vQ2xpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbW90aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhU2V0LnByb21vdGlvbklkIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGFTZXQucHJvbW90aW9uTmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGl2ZTogZGF0YVNldC5wcm9tb3Rpb25DcmVhdGl2ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZGF0YVNldC5wcm9tb3Rpb25Qb3NpdGlvbiB8fCAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gRG9tQWNjZXNzLmdldEF0dHJpYnV0ZShsaW5rLCAnaHJlZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRQcm9tb3Rpb24oZGF0YVNldCkge1xuICAgICAgICBjb25zdCBwcm9tb3Rpb24gPSB7XG4gICAgICAgICAgICBpZDogZGF0YVNldC5wcm9tb3Rpb25JZCB8fCAnJyxcbiAgICAgICAgICAgIG5hbWU6IGRhdGFTZXQucHJvbW90aW9uTmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGNyZWF0aXZlOiBkYXRhU2V0LnByb21vdGlvbkNyZWF0aXZlIHx8ICcnLFxuICAgICAgICAgICAgcG9zaXRpb246IGRhdGFTZXQucHJvbW90aW9uUG9zaXRpb24gfHwgJydcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnByb21vdGlvbnMucHVzaChwcm9tb3Rpb24pO1xuICAgIH1cblxuICAgIHB1c2hQcm9tb1ZpZXcoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb21vdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudDogJ3Byb21vdGlvbnMnLFxuICAgICAgICAgICAgICAgIGVjb21tZXJjZToge1xuICAgICAgICAgICAgICAgICAgICBwcm9tb1ZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21vdGlvbnM6IHRoaXMucHJvbW90aW9uc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUZBO0FBREE7QUFXQTtBQUNBO0FBQ0E7QUFmQTtBQWlCQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFGQTtBQVFBO0FBQ0E7Ozs7QUF6RkE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///v0id\n");

/***/ })

},[["Bys/","runtime","vendor-node","vendor-shared"]]]);